(self.webpackChunkigo2=self.webpackChunkigo2||[]).push([[179],{81754:(M,pe,d)=>{"use strict";var v=d(50318),e=d(3184),Q=d(17643),O=d(57481),h=d(39146),c=d(29587),ce=d(13289),l=d(77373),Ee=d(28653),de=d(19337),Fe=d(60116),$e=d(14390),Ce=d(29744),ye=function(a,n,t,o){return new(t||(t=Promise))(function(r,p){function m(x){try{g(o.next(x))}catch(P){p(P)}}function u(x){try{g(o.throw(x))}catch(P){p(P)}}function g(x){x.done?r(x.value):function i(r){return r instanceof t?r:new t(function(p){p(r)})}(x.value).then(m,u)}g((o=o.apply(a,n||[])).next())})};class T{constructor(n,t,o,i,r){this.platform=n,this.updates=t,this.languageService=o,this.configService=i,this.confirmDialogService=r,this.confirmOpened=!1,t.isEnabled&&(0,Ee.F)(12e4).subscribe(()=>t.checkForUpdate())}modalUpdatePWA(){if(this.confirmOpened)return;const o=`${this.languageService.translate.instant("pwa.new-version-title")} ${this.languageService.translate.instant("pwa.new-version")}`;this.confirmDialogService.open(o).pipe((0,de.b)(()=>this.confirmOpened=!0)).subscribe(i=>{i&&(this.confirmOpened=!1,window.navigator.onLine?document.location.reload():(alert("Hors-ligne / Offline. Vous devez \xeatre en ligne pour mettre \xe0 jour l'application. You must be online to update the application."),setTimeout(()=>{this.modalUpdatePWA()},9e5)))})}checkForUpdates(){this.updates.isEnabled&&this.updates.versionUpdates.pipe((0,Fe.h)(n=>"VERSION_DETECTED"===n.type)).subscribe(()=>{this.modalUpdatePWA()})}initPwaPrompt(){return ye(this,void 0,void 0,function*(){this.configService.getConfig("app")&&this.configService.getConfig("app.pwa")&&this.configService.getConfig("app.pwa.enabled")&&this.configService.getConfig("app.pwa.promote")&&(this.platform.IOS||window.addEventListener("beforeinstallprompt",n=>{n.preventDefault(),this.promptEvent=n,this.listenToUserAction()},{once:!0}))})}listenToUserAction(){window.addEventListener("click",()=>{this.showPrompt()},{once:!0})}showPrompt(){return ye(this,void 0,void 0,function*(){this.promptEvent.prompt();yield this.promptEvent.userChoice;this.promptEvent=void 0})}}T.\u0275fac=function(n){return new(n||T)(e.LFG($e.t4),e.LFG(Ce.yO),e.LFG(h.TS),e.LFG(h.E4),e.LFG(c.DN))},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"});const Y={production:!0,igo:{app:{forceCoordsNA:!1,pwa:{enabled:!1,promote:!1}},catalog:{sources:[{id:"Gououvert",title:"Gouvouvert",url:"https://geoegl.msp.gouv.qc.ca/apis/ws/igo_gouvouvert.fcgi"},{id:"glace",title:"Carte de glace",url:"https://geoegl.msp.gouv.qc.ca/apis/ws/radarsat.fcgi",showLegend:!0}]},depot:{url:"/apis/depot"},importExport:{url:"https://geoegl.msp.gouv.qc.ca/apis/ogre",configFileToGeoDBService:"./data/geoDataToIDB.json",clientSideFileSizeMaxMb:90,allowToStoreLayer:!0},language:{prefix:"./locale/"},interactiveTour:{tourInMobile:!0,pathToConfigFile:"./config/interactiveTour.json"},searchSources:{nominatim:{available:!1},storedqueries:{available:!1},icherche:{searchUrl:"https://geoegl.msp.gouv.qc.ca/apis/icherche",order:2,params:{limit:"8"}},coordinatesreverse:{showInPointerSummary:!0},icherchereverse:{showInPointerSummary:!0,searchUrl:"https://geoegl.msp.gouv.qc.ca/apis/terrapi",order:3,enabled:!0},ilayer:{searchUrl:"https://geoegl.msp.gouv.qc.ca/apis/icherche/layers",order:4,params:{limit:"5"}}},projections:[{code:"EPSG:32198",alias:"Quebec Lambert",def:"+proj=lcc +lat_1=60 +lat_2=46 +lat_0=44 +lon_0=-68.5 +x_0=0 +y_0=0           +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[-799574,45802,891595.4,1849567.5]},{code:"EPSG:3798",alias:"MTQ Lambert",def:"+proj=lcc +lat_1=50 +lat_2=46 +lat_0=44 +lon_0=-70 +x_0=800000 +y_0=0           +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[31796.5834,158846.2231,1813323.4284,2141241.0978]}],searchOverlayStyle:{base:{markerColor:"#5ed0fb",markerOpacity:.8,markerOutlineColor:"#a7e7ff",fillColor:"#5ed0fb",fillOpacity:.2,strokeColor:"#5ed0fb",strokeOpacity:.7,strokeWidth:2},focus:{markerColor:"#5ed0fb",markerOpacity:1,markerOutlineColor:"#DFF7FF",fillColor:"#5ed0fb",fillOpacity:.3,strokeColor:"#DFF7FF",strokeOpacity:1,strokeWidth:2},selection:{markerColor:"#00a1de",markerOpacity:1,markerOutlineColor:"#ffffff",fillColor:"#00a1de",fillOpacity:.3,strokeColor:"#00A1DE",strokeOpacity:1,strokeWidth:2}},queryOverlayStyle:{base:{markerColor:"#5ed0fb",markerOpacity:.8,markerOutlineColor:"#a7e7ff",fillColor:"#5ed0fb",fillOpacity:.2,strokeColor:"#5ed0fb",strokeOpacity:.7,strokeWidth:2},focus:{markerColor:"#5ed0fb",markerOpacity:1,markerOutlineColor:"#DFF7FF",fillColor:"#5ed0fb",fillOpacity:.3,strokeColor:"#DFF7FF",strokeOpacity:1,strokeWidth:2},selection:{markerColor:"#00a1de",markerOpacity:1,markerOutlineColor:"#ffffff",fillColor:"#00a1de",fillOpacity:.3,strokeColor:"#00A1DE",strokeOpacity:1,strokeWidth:2}}}};Y.igo.app.pwa||(Y.igo.app.pwa={}),Y.igo.app.pwa.enabled=!0,Y.igo.app.pwa.promote=!0;const he=Y;var f=d(36362),C=d(87317),S=d(65590),N=d(7216),b=d(40089),k=d(79944),E=d(32600),w=d(78172);class j{}j.\u0275fac=function(n){return new(n||j)},j.\u0275mod=e.oAB({type:j}),j.\u0275inj=e.cJS({imports:[f.ez]});var Be=d(26131),Se=d(82796),Ae=d(91434);class z{}z.\u0275fac=function(n){return new(n||z)},z.\u0275mod=e.oAB({type:z}),z.\u0275inj=e.cJS({imports:[f.ez,C.ot,S.Ps,Se.Tx,Be.ie,Ae.LD,b.AV,h.yR,c.BQ]});var be=d(70178);class R{}R.\u0275fac=function(n){return new(n||R)},R.\u0275mod=e.oAB({type:R}),R.\u0275inj=e.cJS({imports:[f.ez,be.g,S.Ps,C.ot,b.AV,Se.Tx,h.yR,c.Am,c.Po,c.AP,l.Ud7,l.tnH]});class Z{}Z.\u0275fac=function(n){return new(n||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[f.ez,S.Ps,C.ot,N.SJ,b.AV,h.yR,c.Am,c.O4,E.Zy,c.HL,l.Ud7,c.Gh,c.cQ]});class I{}I.\u0275fac=function(n){return new(n||I)},I.\u0275mod=e.oAB({type:I}),I.\u0275inj=e.cJS({imports:[f.ez,S.Ps,C.ot,h.yR,c.Am,c.Po]});var ie=d(90587),se=d(19946);class L{}L.\u0275fac=function(n){return new(n||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({imports:[h.yR,f.ez,ie.u5,k.Is,c.Gh,c.k_,C.ot,b.AV,S.Ps,se.g0]});class H{}H.\u0275fac=function(n){return new(n||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[f.ez,b.AV,C.ot,S.Ps,N.SJ,k.Is,h.PV,l.Ud7,l.ybB,l.FIR,l.y1m.forRoot(),l.TxX.forRoot(),c.AP,c.h5,c.mD,l.Jpu,c.Am,c.HL,c.qL,c.BQ,c.O4,w.fZ,z,R,I,Z,j,E.Zy,E.jm,c.gr,c.t3,c.Gh,L]});var je=d(2762),re=d(50635),me=d(91419),_=d(76317),ge=d(26562),ue=d(10745),ze=d(70679),U=d(71989),F=d(64055),Oe=d(59295),le=d(80155),Pe=d(57647),s=d(31631);var Me=d(28784);class ${constructor(n,t){this.configService=n,this.storageService=t,this.igoVersionDifferentFromStorage=!1,this.igoVersionDifferentFromStorage=this.isVersionDifferentFromStorage(),this.setStorageConfig()}setStorageConfig(){this.nbVisit=Number(this.storageService.get("welcomeWindow_nbVisit")),this.nbVisit||(this.nbVisit=0),this.storageService.set("welcomeWindow_nbVisit",this.nbVisit+=1),this.storageService.set("version",this.configService.getConfig("version.lib"))}isVersionDifferentFromStorage(){return!(!this.storageService.get("version")||this.storageService.get("version")===this.configService.getConfig("version.lib"))}hasWelcomeWindow(){return!1===this.storageService.get("welcomeWindow_showAgain")||"false"===this.storageService.get("welcomeWindow_showAgain")?(this.nbVisit>=this.configService.getConfig("welcomeWindow.nbVisitToShowAgain")||!(!this.configService.getConfig("welcomeWindow.showAgainOnNewIGOVersion")||!this.igoVersionDifferentFromStorage))&&(this.storageService.set("welcomeWindow_nbVisit",0),this.storageService.remove("welcomeWindow_showAgain"),!0):void 0!==this.configService.getConfig("welcomeWindow.nbVisitToShow")&&this.nbVisit>this.configService.getConfig("welcomeWindow.nbVisitToShow")?(this.storageService.set("welcomeWindow_showAgain",!1),!1):this.configService.getConfig("welcomeWindow")}getConfig(){const n=new k.vA;return n.disableClose=!0,n.autoFocus=!0,n.maxWidth="500px",n}afterClosedWelcomeWindow(){this.storageService.set("welcomeWindow_showAgain",this.showAgain)}}$.\u0275fac=function(n){return new(n||$)(e.LFG(h.E4),e.LFG(h.V1))},$.\u0275prov=e.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"});var B=d(87514);function Je(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",1)(1,"mat-toolbar",2)(2,"h2"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"span",3),e.TgZ(6,"label")(7,"input",4),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.showAgain=i)})("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.setShowAgain())}),e.qZA(),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",5),e._UZ(11,"igo-custom-html",6),e.ALo(12,"async"),e.qZA(),e._UZ(13,"p"),e.TgZ(14,"div",7)(15,"igo-interactive-tour",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closeWelcomeWindow())}),e.qZA(),e.TgZ(16,"button",9),e._uU(17),e.ALo(18,"translate"),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,6,"welcomeWindow.title")),e.xp6(4),e.Q6J("ngModel",t.showAgain),e.xp6(1),e.hij(" ",e.lcZ(9,8,"welcomeWindow.notShowCheck")," "),e.xp6(3),e.Q6J("html",e.lcZ(12,10,t.html$)),e.xp6(4),e.Q6J("discoverTitleInLocale$",t.discoverTitleInLocale$),e.xp6(2),e.Oqu(e.lcZ(18,12,"welcomeWindow.closeButton"))}}class G{constructor(n,t,o,i){this.dialog=n,this.welcomeWindowService=t,this.configService=o,this.languageService=i,this.showAgain=!1,this.discoverTitleInLocale$=(0,ue.of)(this.configService.getConfig("welcomeWindow.discoverTitleInLocale")||this.configService.getConfig("title")),this.html$=new _.X(void 0)}ngOnInit(){this.computeHtml()}closeWelcomeWindow(){this.dialog.closeAll()}computeHtml(){let n=0,t=!0,o=new Date(this.configService.getConfig("version.releaseDate"));const i=this.configService.getConfig("version.releaseDateApp");if(i){const p=new Date(i);isNaN(p.getDate())?(console.log("The releaseDateApp config is not a valid date format"),t=!1):(n=1,o=p)}let r="";if(t){let p=o.getDate()+n;p<10&&(p="0"+p);let m=o.getMonth()+1;m<10&&(m="0"+m),r=`${o.getFullYear()}-${m}-${p}`}else r=i;return this.title$$=this.languageService.translate.get(this.configService.getConfig("title")||"").pipe((0,re.U)(p=>this.languageService.translate.instant("welcomeWindow.html",{title:p,description:this.configService.getConfig("description")||"",version:this.configService.getConfig("version.app")||this.configService.getConfig("version.lib")||"",releaseDate:r||""}))).subscribe(p=>this.html$.next(p)),this.html$}setShowAgain(){this.welcomeWindowService.showAgain=this.showAgain}ngOnDestroy(){this.title$$&&this.title$$.unsubscribe()}}G.\u0275fac=function(n){return new(n||G)(e.Y36(k.uw),e.Y36($),e.Y36(h.E4),e.Y36(h.TS))},G.\u0275cmp=e.Xpm({type:G,selectors:[["app-welcome-window"]],decls:2,vars:3,consts:[["class","welcome-window",4,"ngIf"],[1,"welcome-window"],["color","primary"],[1,"spacer"],["id","doNotShowCheck","type","checkbox",3,"ngModel","ngModelChange","click"],["mat-dialog-content","",1,"text"],[1,"mat-typography",3,"html"],[1,"button-container"],["id","tour-button","styleButton","raised",3,"discoverTitleInLocale$","click"],["mat-raised-button","","color","primary","mat-dialog-close","",1,"button-close"]],template:function(n,t){1&n&&(e.YNc(0,Je,19,14,"div",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,t.html$))},dependencies:[f.O5,ie.Wl,ie.JJ,ie.On,k.ZT,k.xY,c.bB,c.n_,C.lW,se.Ye,B.X$,f.Ov],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}#doNotShowCheck[_ngcontent-%COMP%]{margin-right:5px}mat-toolbar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:revert}"]});var fe=d(92845);function Ye(a,n){1&a&&e._UZ(0,"mat-icon",5)}function Ne(a,n){1&a&&e._UZ(0,"mat-icon",6)}class q{constructor(){this.expandedChange=new e.vpe}get expanded(){return this._expanded}set expanded(n){n!==this._expanded&&(this._expanded=n,this.expandedChange.emit(this._expanded))}get hasExpandedClass(){return this.expanded}onToggleClick(){this.expanded=!this.expanded}}q.\u0275fac=function(n){return new(n||q)},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-expansion-panel-header"]],hostVars:2,hostBindings:function(n,t){2&n&&e.ekj("app-expansion-panel-header-expanded",t.hasExpandedClass)},inputs:{expanded:"expanded"},outputs:{expandedChange:"expandedChange"},ngContentSelectors:["*"],decls:8,vars:5,consts:[[1,"app-expansion-panel-trigger-container"],["mat-icon-button","","color","primary",3,"matTooltip","click"],["svgIcon","launch",4,"ngIf"],["style","transform: rotate(180deg)","svgIcon","launch",4,"ngIf"],[1,"app-expansion-panel-content"],["svgIcon","launch"],["svgIcon","launch",2,"transform","rotate(180deg)"]],template:function(n,t){1&n&&(e.F$t(),e.TgZ(0,"div")(1,"div",0)(2,"button",1),e.NdJ("click",function(){return t.onToggleClick()}),e.ALo(3,"translate"),e.YNc(4,Ye,1,0,"mat-icon",2),e.YNc(5,Ne,1,0,"mat-icon",3),e.qZA()(),e.TgZ(6,"div",4),e.Hsn(7),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,3,t.expanded?"workspace.close":"workspace.open")),e.xp6(2),e.Q6J("ngIf",!t.expanded),e.xp6(1),e.Q6J("ngIf",t.expanded))},dependencies:[f.O5,C.lW,S.Hw,b.gM,B.X$],styles:["[_nghost-%COMP%]{display:block;height:50px;border-bottom:2px solid aliceblue}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{display:flex}.app-expansion-panel-trigger-container[_ngcontent-%COMP%], .app-expansion-panel-content[_ngcontent-%COMP%]{display:contents}"],changeDetection:0});const Ge=[[["","expansionPanelHeader",""]],"*"];class V{constructor(){this.maximized=!1,this.expandedChange=new e.vpe}get expanded(){return this._expanded}set expanded(n){n!==this._expanded&&(this._expanded=n,this.expandedChange.emit(this._expanded))}get backdropShown(){return this._backdropShown}set backdropShown(n){this._backdropShown=n}get hasExpandedClass(){return this.expanded&&!this.maximized}get hasExpandedFullClass(){return this.expanded&&this.maximized}onBackdropClick(){this.expanded=!1,this.backdropShown=!1}}V.\u0275fac=function(n){return new(n||V)},V.\u0275cmp=e.Xpm({type:V,selectors:[["app-expansion-panel"]],hostVars:4,hostBindings:function(n,t){2&n&&e.ekj("app-expansion-panel-expanded",t.hasExpandedClass)("app-expansion-panel-expanded-maximized",t.hasExpandedFullClass)},inputs:{expanded:"expanded",maximized:"maximized",backdropShown:"backdropShown"},outputs:{expandedChange:"expandedChange"},ngContentSelectors:["[expansionPanelHeader]","*"],decls:7,vars:3,consts:[[1,"app-expansion-panel-container"],[3,"shown","click"],[3,"expanded","expandedChange"],[1,"app-expansion-panel-content","mat-elevation-z4"]],template:function(n,t){1&n&&(e.F$t(Ge),e.TgZ(0,"div")(1,"div",0)(2,"igo-backdrop",1),e.NdJ("click",function(){return t.onBackdropClick()}),e.qZA(),e.TgZ(3,"app-expansion-panel-header",2),e.NdJ("expandedChange",function(i){return t.expanded=i}),e.Hsn(4),e.qZA(),e.TgZ(5,"div",3),e.Hsn(6,1),e.qZA()()()),2&n&&(e.xp6(2),e.Q6J("shown",t.backdropShown),e.xp6(1),e.Q6J("expanded",t.expanded),e.xp6(2),e.Q6J("@showContent",t.expanded))},dependencies:[c.qv,q],styles:["[_nghost-%COMP%]{-o-box-shadow:0px 0px 2px 0px #dddddd;box-shadow:0 0 2px #ddd}[_nghost-%COMP%]{display:block;background-color:#fff;height:40px;width:40px;transition:height .2s cubic-bezier(.4,0,.2,1),width .2s cubic-bezier(.4,0,.2,1)}.app-expansion-panel-container[_ngcontent-%COMP%]{height:100%;width:100%}.app-expansion-panel-expanded[_nghost-%COMP%]{height:281px;width:100%;z-index:6}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-expansion-panel-expanded.footer[_nghost-%COMP%]{margin-bottom:48px}}.app-expansion-panel-expanded-maximized[_nghost-%COMP%]{height:496px;width:100%;z-index:6}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-expansion-panel-expanded-maximized.footer[_nghost-%COMP%]{margin-bottom:48px}}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:100%;width:100%}.app-expansion-panel-content[_ngcontent-%COMP%]{height:calc(100% - 50px);overflow:auto;padding:5px}igo-backdrop[_ngcontent-%COMP%]    >div{z-index:120!important}.app-expansion-panel-content[_ngcontent-%COMP%]     .igo-entity-table-with-selection{width:100%}"],data:{animation:[function Qe(a="150ms",n="300ms",t="ease-in-out"){return(0,s.X$)("showContent",[(0,s.SB)("true",(0,s.oB)({opacity:1})),(0,s.SB)("false",(0,s.oB)({opacity:0})),(0,s.eR)("false => true",(0,s.jt)(`${a} ${n} ${t}`)),(0,s.eR)("true => false",(0,s.jt)("0ms"))])}()]},changeDetection:0});var Ve=d(6788),Xe=d(83733);function Ke(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.zoomTo())}),e.ALo(1,"translate"),e.ALo(2,"async"),e._UZ(3,"mat-icon",16),e.ALo(4,"async"),e.ALo(5,"async"),e.qZA()}if(2&a){const t=e.oxw(3);e.Q6J("matTooltip",e.lcZ(1,3,e.lcZ(2,5,t.isSelectedResultOutOfView$)?"toastPanel.zoomOnFeatureTooltipOutOfView":"toastPanel.zoomOnFeatureTooltip")),e.xp6(3),e.Q6J("matBadge",e.lcZ(4,7,t.isSelectedResultOutOfView$)?"!":"")("matBadgeHidden",!0!==e.lcZ(5,9,t.isSelectedResultOutOfView$))}}function et(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.previousResult())}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",18),e.qZA()}if(2&a){const t=e.oxw(3);e.Q6J("disabled",t.results[0].meta.id===t.resultSelected$.value.meta.id)("matTooltip",e.lcZ(1,2,"toastPanel.previousFeatureTooltip"))}}function tt(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.nextResult())}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",20),e.qZA()}if(2&a){const t=e.oxw(3);e.Q6J("disabled",t.results[t.results.length-1].meta.id===t.resultSelected$.value.meta.id)("matTooltip",e.lcZ(1,2,"toastPanel.nextFeatureTooltip"))}}function nt(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.resizeWindows())}),e.ALo(1,"translate"),e.ALo(2,"async"),e._UZ(3,"mat-icon",22),e.qZA()}if(2&a){const t=e.oxw(3);e.Q6J("matTooltip",e.lcZ(1,2,e.lcZ(2,4,t.fullExtent$)?"toastPanel.standardExtentTooltip":"toastPanel.fullExtentTooltip")),e.xp6(3),e.s9C("svgIcon",t.iconResizeWindows)}}function ot(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"igo-feature-details",23),e.NdJ("htmlDisplayEvent",function(i){e.CHM(t);const r=e.oxw(3);return e.KtG(r.setHtmlDisplay(i))}),e.qZA()}if(2&a){const t=e.oxw(3);e.Q6J("feature",t.resultSelected$.value.data)}}function at(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"igo-search-results",24),e.NdJ("resultFocus",function(i){e.CHM(t);const r=e.oxw(3);return e.KtG(r.focusResult(i))})("resultUnfocus",function(i){e.CHM(t);const r=e.oxw(3);return e.KtG(r.unfocusResult(i,!0))})("resultSelect",function(i){e.CHM(t);const r=e.oxw(3);return e.KtG(r.selectResult(i))}),e.qZA()}if(2&a){const t=e.oxw(3);e.Q6J("map",t.map)("store",t.store)("showIcons",!0)("withZoomButton",t.withZoomButton)("tabsMode",t.tabsMode)}}function it(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"igo-panel",3),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onToggleClick(i))})("keydown",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handleKeyboardEvent(i))}),e.ALo(1,"translate"),e._UZ(2,"igo-actionbar",4),e.YNc(3,Ke,6,11,"button",5),e.YNc(4,et,3,4,"button",6),e.YNc(5,tt,3,4,"button",7),e.YNc(6,nt,4,6,"button",8),e.TgZ(7,"button",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.clear())}),e._UZ(8,"mat-icon",10),e.qZA(),e.TgZ(9,"div",11,12),e.YNc(11,ot,1,1,"igo-feature-details",13),e.YNc(12,at,1,5,"igo-search-results",14),e.qZA()()}if(2&a){const t=e.oxw(2);e.Q6J("ngClass",t.getClassPanel())("id",t.setHeighPanelTabsMode())("title",t.resultSelected$.value?t.getTitle(t.resultSelected$.value):e.lcZ(1,15,"toastPanel.title")),e.xp6(2),e.Q6J("store",t.actionStore)("withIcon",!0)("icon",t.icon)("withTitle","overlay"===t.actionbarMode)("horizontal",!0)("mode",t.actionbarMode),e.xp6(1),e.Q6J("ngIf",t.resultSelected$.value),e.xp6(1),e.Q6J("ngIf",t.resultSelected$.value),e.xp6(1),e.Q6J("ngIf",t.resultSelected$.value),e.xp6(1),e.Q6J("ngIf",t.isDesktop()),e.xp6(5),e.Q6J("ngIf",t.resultSelected$.value),e.xp6(1),e.Q6J("ngIf",!t.resultSelected$.value)}}function st(a,n){if(1&a&&(e.YNc(0,it,13,17,"igo-panel",2),e.ALo(1,"async")),2&a){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.store.entities$))}}function rt(a,n){}function lt(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",25),e.NdJ("swipeleft",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.swipe(i.type))})("swiperight",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.swipe(i.type))})("swipeup",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.swipe(i.type))})("swipedown",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.swipe(i.type))}),e.YNc(1,rt,0,0,"ng-template",26),e.qZA()}if(2&a){e.oxw();const t=e.MAs(1);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}class y{constructor(n,t,o,i,r){this.mediaService=n,this.languageService=t,this.storageState=o,this.queryState=i,this.configService=r,this.tabsMode=!1,this._opened=!0,this.hasFeatureEmphasisOnSelection=!1,this._zoomAuto=!1,this._fullExtent=!1,this.fullExtent$=new _.X(this.fullExtent),this.isHtmlDisplay=!1,this.iconResizeWindows="",this.icon="menu",this.actionStore=new c.Dn([]),this.actionbarMode=c.rO.Overlay,this.multiple$=new _.X(!1),this.isResultSelected$=new _.X(!1),this.isSelectedResultOutOfView$=new _.X(!1),this.initialized=!0,this.format=new fe.Z,this.focusedResult$=new _.X(void 0),this.withZoomButton=!0,this.zoomAuto$=new _.X(!1),this.openedChange=new e.vpe,this.fullExtentEvent=new e.vpe,this.windowHtmlDisplayEvent=new e.vpe,this.resultSelected$=new _.X(void 0),this.tabsMode=!!this.configService.getConfig("queryTabs")&&this.configService.getConfig("queryTabs"),this.opened=this.storageService.get("toastOpened"),this.zoomAuto=this.storageService.get("zoomAuto"),this.fullExtent=this.storageService.get("fullExtent"),this.setResizeWindowIcon()}get storageService(){return this.storageState.storageService}get map(){return this._map}set map(n){this._map=n}get store(){return this._store}set store(n){this._store=n,this.store.entities$.subscribe(t=>{this.unselectResult()})}get opened(){return this._opened}set opened(n){n===!this._opened&&(this._opened=n,this.storageService.set("toastOpened",n,h.fO.SESSION),this.openedChange.emit(n))}get zoomAuto(){return this._zoomAuto}set zoomAuto(n){n===!this._zoomAuto&&(this._zoomAuto=n,this.zoomAuto$.next(n),this.storageService.set("zoomAuto",n))}get fullExtent(){return this._fullExtent}set fullExtent(n){n===!this._fullExtent&&(this._fullExtent=n,this.fullExtent$.next(n),this.fullExtentEvent.emit(n),this.storageService.set("fullExtent",n))}getClassPanel(){return{"app-toast-panel-opened":this.opened&&!this.fullExtent&&!this.isHtmlDisplay,"app-full-toast-panel-opened":this.opened&&this.fullExtent&&!this.isHtmlDisplay,"app-toast-panel-html":this.opened&&!this.fullExtent&&this.resultSelected$.value&&this.isHtmlDisplay,"app-toast-panel-html-large":this.opened&&this.fullExtent&&this.resultSelected$.value&&this.isHtmlDisplay,"app-toast-panel-collapsed":!this.opened&&!this.fullExtent&&!this.isHtmlDisplay,"app-full-toast-panel-collapsed":!this.opened&&this.fullExtent&&!this.isHtmlDisplay,"app-toast-panel-html-collapsed":!this.opened&&this.isHtmlDisplay}}setHeighPanelTabsMode(){return this.resultSelected$.value||!this.opened?"":!this.tabsMode||this.fullExtent||this.isHtmlDisplay?this.tabsMode&&this.opened&&this.fullExtent&&!this.isHtmlDisplay?"app-full-toast-panel-opened-max-height":void 0:"app-toast-panel-opened-max-height"}get displayStyle(){return this.results.length?(1===this.results.length&&this.initialized&&this.selectResult(this.results[0]),"visible"):"hidden"}onEscapeHandler(n){this.clear()}onBackHandler(n){this.unselectResult()}onZoomHandler(n){if(!0===this.isResultSelected$.getValue()){const t=this.format.readFeature(this.resultSelected$.getValue().data,{dataProjection:this.resultSelected$.getValue().data.projection,featureProjection:this.map.projection});(0,l.ybU)(this.map,[t],l.bAZ.Default)}}get results(){return this.store.all()}get multiple(){return this.results.length?this.multiple$.next(!0):this.multiple$.next(!1),this.multiple$}monitorResultOutOfView(){this.isSelectedResultOutOfView$$=(0,ge.a)([this.map.viewController.state$,this.resultSelected$]).pipe((0,U.b)(100)).subscribe(n=>{const t=n[1];if(!t)return void this.isSelectedResultOutOfView$.next(!1);const o=(0,l.zMd)(t.data,this.map.projection),i=(0,l.HgW)(this.map,[o]);this.isSelectedResultOutOfView$.next((0,l.brJ)(this.map,i))})}ngOnInit(){let n,t;this.store.entities$.subscribe(()=>{this.initialized=!0}),this.monitorResultOutOfView(),this.hasFeatureEmphasisOnSelection&&(this.resultOrResolution$$=(0,ge.a)([this.focusedResult$.pipe((0,de.b)(o=>{n=o,t="focused"})),this.resultSelected$.pipe((0,de.b)(o=>{n=o,t="selected"})),this.map.viewController.resolution$,this.store.entities$]).subscribe(()=>this.buildResultEmphasis(n,t))),this.storageChange$$=this.storageService.storageChange$.pipe((0,F.n)(o=>"zoomAuto"!==o.key)).subscribe(o=>{this.zoomAuto=o.currentValue}),this.actionStore.load([{id:"list",title:this.languageService.translate.instant("toastPanel.backToList"),icon:"format-list-bulleted-square",tooltip:this.languageService.translate.instant("toastPanel.listButton"),display:()=>this.isResultSelected$,handler:()=>{this.unselectResult()}},{id:"zoomFeature",title:this.languageService.translate.instant("toastPanel.zoomOnFeature"),icon:"magnify-plus-outline",tooltip:this.languageService.translate.instant("toastPanel.zoomOnFeatureTooltip"),display:()=>this.isResultSelected$,handler:()=>{const o=this.format.readFeature(this.resultSelected$.getValue().data,{dataProjection:this.resultSelected$.getValue().data.projection,featureProjection:this.map.projection});(0,l.ybU)(this.map,[o],l.bAZ.Zoom)}},{id:"zoomResults",title:this.languageService.translate.instant("toastPanel.zoomOnFeatures"),tooltip:this.languageService.translate.instant("toastPanel.zoomOnFeaturesTooltip"),icon:"magnify-scan",availability:()=>this.multiple,handler:()=>{const o=[];for(const i of this.store.all()){const r=this.format.readFeature(i.data,{dataProjection:i.data.projection,featureProjection:this.map.projection});o.push(r)}(0,l.ybU)(this.map,o,l.bAZ.Zoom)}},{id:"zoomAuto",title:this.languageService.translate.instant("toastPanel.zoomAuto"),tooltip:this.languageService.translate.instant("toastPanel.zoomAutoTooltip"),checkbox:!0,checkCondition:this.zoomAuto$,handler:()=>{this.zoomAuto=!this.zoomAuto,this.zoomAuto&&!0===this.isResultSelected$.value&&this.selectResult(this.resultSelected$.getValue())}},{id:"fullExtent",title:this.languageService.translate.instant("toastPanel.fullExtent"),tooltip:this.languageService.translate.instant("toastPanel.fullExtentTooltip"),icon:"arrow-expand",display:()=>this.fullExtent$.pipe((0,re.U)(o=>!o&&!this.isDesktop())),handler:()=>{this.fullExtent=!0}},{id:"standardExtent",title:this.languageService.translate.instant("toastPanel.standardExtent"),tooltip:this.languageService.translate.instant("toastPanel.standardExtentTooltip"),icon:"arrow-collapse",display:()=>this.fullExtent$.pipe((0,re.U)(o=>o&&!this.isDesktop())),handler:()=>{this.fullExtent=!1}}])}ngOnDestroy(){this.resultOrResolution$$&&this.resultOrResolution$$.unsubscribe(),this.isSelectedResultOutOfView$$&&this.isSelectedResultOutOfView$$.unsubscribe(),this.storageChange$$&&this.storageChange$$.unsubscribe()}buildResultEmphasis(n,t){if(this.clearFeatureEmphasis(),!n||"selected"===t&&this.zoomAuto)return;const i=(0,l.zMd)(n.data,this.map.projection).getGeometry();if((0,l.fle)(this.map,i.getExtent(),.0025)){const r=i.getExtent(),p=r[0]+(r[2]-r[0])/2,m=r[1]+(r[3]-r[1])/2,u=new Ve.Z({name:"abstractFocusedOrSelectedResult",geometry:new Xe.Z([p,m])});this.abstractFocusedOrSelectedResult=(0,l.ve2)(u,this.map.projection),this.abstractFocusedOrSelectedResult.meta.style=(0,l.DQ6)(Object.assign({},{feature:this.abstractFocusedOrSelectedResult},"selected"===t?this.queryState.queryOverlayStyleSelection:this.queryState.queryOverlayStyleFocus)),this.abstractFocusedOrSelectedResult.meta.style.setZIndex(2e3),this.map.queryResultsOverlay.addFeature(this.abstractFocusedOrSelectedResult,l.bAZ.None)}}clearFeatureEmphasis(){this.abstractFocusedOrSelectedResult&&(this.map.queryResultsOverlay.removeFeature(this.abstractFocusedOrSelectedResult),this.abstractFocusedOrSelectedResult=void 0)}getTitle(n){return(0,c.TF)(n)}focusResult(n){this.focusedResult$.next(n),this.map.queryResultsOverlay.removeFeature(n.data),n.data.meta.style=(0,l.DQ6)(Object.assign({},{feature:n.data},this.queryState.queryOverlayStyleFocus)),n.data.meta.style.setZIndex(2e3),this.map.queryResultsOverlay.addFeature(n.data,l.bAZ.None)}unfocusResult(n,t){this.focusedResult$.next(void 0),(t||!this.store.state.get(n).focused)&&(this.map.queryResultsOverlay.removeFeature(n.data),n.data.meta.style=(0,l.eU6)(Object.assign({},{feature:n.data},this.queryState.queryOverlayStyle)),n.data.meta.style.setZIndex(void 0),this.map.queryResultsOverlay.addFeature(n.data,l.bAZ.None))}selectResult(n){this.store.state.update(n,{focused:!0,selected:!0},!0),this.resultSelected$.next(n),n.data.properties&&"iframe"===n.data.properties.target?this.setHtmlDisplay(!0):this.setHtmlDisplay(!1);const t=[];for(const o of this.store.all())o.meta.id===n.meta.id?(o.data.meta.style=(0,l.DQ6)(Object.assign({},{feature:o.data},this.queryState.queryOverlayStyleSelection)),o.data.meta.style.setZIndex(2e3)):o.data.meta.style=(0,l.eU6)(Object.assign({},{feature:o.data},this.queryState.queryOverlayStyle)),t.push(o.data);if(this.map.queryResultsOverlay.removeFeatures(t),this.map.queryResultsOverlay.addFeatures(t,l.bAZ.None),this.zoomAuto){const o=this.format.readFeature(this.resultSelected$.getValue().data,{dataProjection:this.resultSelected$.getValue().data.projection,featureProjection:this.map.projection});(0,l.ybU)(this.map,[o],l.bAZ.Default)}this.isResultSelected$.next(!0),this.initialized=!1}unselectResult(){this.resultSelected$.next(void 0),this.isResultSelected$.next(!1),this.setHtmlDisplay(!1),this.store.state.clear();const n=[];for(const t of this.store.all())t.data.meta.style=(0,l.eU6)(Object.assign({},{feature:t.data},this.queryState.queryOverlayStyle)),n.push(t.data);this.map.queryResultsOverlay.setFeatures(n,l.bAZ.None,"map")}clear(){this.clearFeatureEmphasis(),this.map.queryResultsOverlay.clear(),this.store.clear(),this.unselectResult(),this.setHtmlDisplay(!1)}isMobile(){return this.mediaService.getMedia()===h.pU.Mobile}isDesktop(){return this.mediaService.isDesktop()}handleKeyboardEvent(n){37===n.keyCode?this.previousResult():39===n.keyCode&&this.nextResult()}previousResult(){if(!this.resultSelected$.value)return;let n=this.results.indexOf(this.resultSelected$.value);const t=this.results[--n];t&&this.selectResult(t)}nextResult(){if(!this.resultSelected$.value)return;let n=this.results.indexOf(this.resultSelected$.value);const t=this.results[++n];t&&this.selectResult(t)}zoomTo(){const n=this.format.readFeature(this.resultSelected$.getValue().data,{dataProjection:this.resultSelected$.getValue().data.projection,featureProjection:this.map.projection});(0,l.ybU)(this.map,[n],l.bAZ.Zoom)}swipe(n){n===y.SWIPE_ACTION.RIGHT?this.previousResult():n===y.SWIPE_ACTION.LEFT?this.nextResult():n===y.SWIPE_ACTION.UP?this.opened=!0:n===y.SWIPE_ACTION.DOWN&&(this.opened=!1)}onToggleClick(n){"igo-panel-title"===n.target.className&&(this.opened=!this.opened)}onTriggerAction(n){const t=n.args||[];n.handler(...t)}setHtmlDisplay(n){!0===n?(this.isHtmlDisplay=!0,this.windowHtmlDisplayEvent.emit(!0)):(this.isHtmlDisplay=!1,this.windowHtmlDisplayEvent.emit(!1))}isHtmlAndDesktop(){return!(!this.isHtmlDisplay||!this.isDesktop())}setResizeWindowIcon(){this.fullExtent?this.iconResizeWindows="arrow-collapse":this.iconResizeWindows="arrow-expand"}resizeWindows(){this.storageService.set("fullExtent",!this.fullExtent),this.fullExtent?this.reduceWindow():this.enlargeWindows()}reduceWindow(){this.fullExtent=!1,this.setResizeWindowIcon()}enlargeWindows(){this.fullExtent=!0,this.setResizeWindowIcon()}}y.SWIPE_ACTION={RIGHT:"swiperight",LEFT:"swipeleft",UP:"swipeup",DOWN:"swipedown"},y.\u0275fac=function(n){return new(n||y)(e.Y36(h.yJ),e.Y36(h.TS),e.Y36(w.I2),e.Y36(w.Tb),e.Y36(h.E4))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-toast-panel"]],hostVars:2,hostBindings:function(n,t){1&n&&e.NdJ("keydown.escape",function(i){return t.onEscapeHandler(i)},!1,e.evT)("keydown.backspace",function(i){return t.onBackHandler(i)},!1,e.evT)("keydown.z",function(i){return t.onZoomHandler(i)},!1,e.evT),2&n&&e.Udp("visibility",t.displayStyle)},inputs:{map:"map",store:"store",opened:"opened",hasFeatureEmphasisOnSelection:"hasFeatureEmphasisOnSelection"},outputs:{openedChange:"openedChange",fullExtentEvent:"fullExtentEvent",windowHtmlDisplayEvent:"windowHtmlDisplayEvent"},decls:3,vars:2,consts:[["toast",""],["class","swipe-fix",3,"swipeleft","swiperight","swipeup","swipedown",4,"ngIf","ngIfElse"],["tabindex","0",3,"ngClass","id","title","click","keydown",4,"ngIf"],["tabindex","0",3,"ngClass","id","title","click","keydown"],["id","igo-actionbar","panelLeftButton","",3,"store","withIcon","icon","withTitle","horizontal","mode"],["mat-icon-button","","igoStopPropagation","","panelLeftButton","","matTooltipShowDelay","500",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","igoStopPropagation","","panelLeftButton","","matTooltipShowDelay","500",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","igoStopPropagation","","panelRightButton","","matTooltipShowDelay","500",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","igoStopPropagation","","panelRightButton","","matTooltipShowDelay","500",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","igoStopPropagation","","panelRightButton","",3,"click"],["svgIcon","close"],[1,"toast-content"],["content",""],[3,"feature","htmlDisplayEvent",4,"ngIf"],[3,"map","store","showIcons","withZoomButton","tabsMode","resultFocus","resultUnfocus","resultSelect",4,"ngIf"],["mat-icon-button","","igoStopPropagation","","panelLeftButton","","matTooltipShowDelay","500",3,"matTooltip","click"],["matBadgeColor","accent","matBadgeSize","small","svgIcon","magnify-plus-outline",3,"matBadge","matBadgeHidden"],["mat-icon-button","","igoStopPropagation","","panelLeftButton","","matTooltipShowDelay","500",3,"disabled","matTooltip","click"],["svgIcon","chevron-left"],["mat-icon-button","","igoStopPropagation","","panelRightButton","","matTooltipShowDelay","500",3,"disabled","matTooltip","click"],["svgIcon","chevron-right"],["mat-icon-button","","igoStopPropagation","","panelRightButton","","matTooltipShowDelay","500",3,"matTooltip","click"],[3,"svgIcon"],[3,"feature","htmlDisplayEvent"],[3,"map","store","showIcons","withZoomButton","tabsMode","resultFocus","resultUnfocus","resultSelect"],[1,"swipe-fix",3,"swipeleft","swiperight","swipeup","swipedown"],[3,"ngTemplateOutlet"]],template:function(n,t){if(1&n&&(e.YNc(0,st,2,3,"ng-template",null,0,e.W1O),e.YNc(2,lt,2,1,"div",1)),2&n){const o=e.MAs(1);e.xp6(2),e.Q6J("ngIf",t.isMobile())("ngIfElse",o)}},dependencies:[f.mk,f.O5,f.tP,be.k,S.Hw,C.lW,b.gM,c.yX,c._u,c.nv,l.C6c,l.GYD,f.Ov,B.X$],styles:["[_nghost-%COMP%]{-o-box-shadow:0px 0px 2px 0px #dddddd;box-shadow:0 0 2px #ddd}[_nghost-%COMP%]{background-color:#fff;transition:height .28s cubic-bezier(.4,0,.2,1);padding:5px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){[_nghost-%COMP%]{width:100%;min-width:100%}}.app-toast-panel-html[_ngcontent-%COMP%]{height:30vh;max-height:-moz-fit-content;max-height:fit-content;width:60vw}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-toast-panel-html[_ngcontent-%COMP%]{width:100%;min-width:100%;height:34vh}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-toast-panel-html[_ngcontent-%COMP%]{width:500px}}.app-toast-panel-html-large[_ngcontent-%COMP%]{height:55vh;width:60vw}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-toast-panel-html-large[_ngcontent-%COMP%]{width:100%;min-width:100%;max-height:65vh;height:55vh}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-toast-panel-html-large[_ngcontent-%COMP%]{width:500px}}.app-toast-panel-html-large[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{height:100%;width:100%}.app-toast-panel-opened[_ngcontent-%COMP%]{height:auto;max-height:30vh;width:42vw;max-width:600px;margin-bottom:7px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-toast-panel-opened[_ngcontent-%COMP%]{max-height:34vh;width:100%;min-width:100%}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-toast-panel-opened[_ngcontent-%COMP%]{width:500px}}.app-toast-panel-opened[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{height:100%;width:100%;max-height:calc(30vh - 34px)}.app-full-toast-panel-opened[_ngcontent-%COMP%]{height:auto;max-height:65vh;width:45vw}.app-full-toast-panel-opened[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{height:100%;width:100%;max-height:calc(65vh - 41px)}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-full-toast-panel-opened[_ngcontent-%COMP%]{width:500px;max-height:500px}.app-full-toast-panel-opened[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{max-height:44vh}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-full-toast-panel-opened[_ngcontent-%COMP%]{width:100%;min-width:100%;max-height:65vh}}.app-toast-panel-collapsed[_ngcontent-%COMP%]{height:46px!important;width:42vw;max-width:600px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-toast-panel-collapsed[_ngcontent-%COMP%]{width:100%;min-width:100%;height:35px!important}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-toast-panel-collapsed[_ngcontent-%COMP%]{width:500px}}.app-full-toast-panel-collapsed[_ngcontent-%COMP%]{height:46px!important;width:45vw}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-full-toast-panel-collapsed[_ngcontent-%COMP%]{width:100%;min-width:100%;height:35px!important}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-full-toast-panel-collapsed[_ngcontent-%COMP%]{width:500px}}.app-toast-panel-html-collapsed[_ngcontent-%COMP%]{height:46px!important;width:60vw}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-toast-panel-html-collapsed[_ngcontent-%COMP%]{width:100%;min-width:100%;height:35px!important}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-toast-panel-html-collapsed[_ngcontent-%COMP%]{width:500px}}igo-panel[_ngcontent-%COMP%]     .igo-panel-header:hover{cursor:pointer}igo-panel[_ngcontent-%COMP%]{height:100%;outline:none}igo-panel[_ngcontent-%COMP%]     h3{display:flex}igo-panel[_ngcontent-%COMP%]     .igo-panel-title{flex-grow:2;margin:0}igo-panel[_ngcontent-%COMP%]     .igo-panel-header   [panelleftbutton], igo-panel[_ngcontent-%COMP%]     .igo-panel-header   [panelrightbutton]{margin:0}igo-panel[_ngcontent-%COMP%]     .igo-panel-content{-webkit-user-select:auto!important;-moz-user-select:auto!important;user-select:auto!important}igo-feature-details[_ngcontent-%COMP%]     iframe{min-height:24vh}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-feature-details[_ngcontent-%COMP%]     iframe{min-height:30vh}}host.app-full-toast-panel-opened[_ngcontent-%COMP%]   igo-feature-details[_ngcontent-fiq-c23][_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{min-height:450px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){host.app-full-toast-panel-opened[_ngcontent-%COMP%]   igo-feature-details[_ngcontent-fiq-c23][_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{min-height:350px}}.swipe-fix[_ngcontent-%COMP%]{touch-action:pinch-zoom!important}igo-actionbar[_ngcontent-%COMP%]{overflow:hidden}#app-toast-panel-opened-max-height[_ngcontent-%COMP%]{height:30vh!important}#app-full-toast-panel-opened-max-height[_ngcontent-%COMP%]{height:65vh!important}"],changeDetection:0});class X{constructor(){this.openedChange=new e.vpe}set opened(n){n!==this._opened&&(this._opened=n,this.openedChange.emit(this._opened))}get opened(){return this._opened}get hasOpenedClass(){return this.opened}get displayStyle(){return this.withHeader||this.opened?"visible":"hidden"}}function dt(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"igo-home-button",9),e.NdJ("unselectButton",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onUnselectButtonClick())}),e.qZA()}}function ht(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onPreviousButtonClick())}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",11),e.qZA()}2&a&&e.Q6J("matTooltip",e.lcZ(1,1,"igo.context.sidenav.goBack"))}X.\u0275fac=function(n){return new(n||X)},X.\u0275cmp=e.Xpm({type:X,selectors:[["app-toast-panel-for-expansion"]],hostVars:4,hostBindings:function(n,t){2&n&&(e.Udp("visibility",t.displayStyle),e.ekj("toast-panel-for-expansion-opened",t.hasOpenedClass))},inputs:{opened:"opened",title:"title",withHeader:"withHeader"},outputs:{openedChange:"openedChange"},ngContentSelectors:["*"],decls:4,vars:3,consts:[[3,"title","withHeader"],["content",""]],template:function(n,t){1&n&&(e.F$t(),e.TgZ(0,"igo-panel",0)(1,"div",null,1),e.Hsn(3),e.qZA()()),2&n&&(e.Q6J("title",t.title)("withHeader",t.withHeader),e.xp6(1),e.Q6J("@showContent",t.opened))},dependencies:[c.yX],styles:["[_nghost-%COMP%]{-o-box-shadow:0px 0px 2px 0px #dddddd;box-shadow:0 0 2px #ddd}[_nghost-%COMP%]{background-color:#fff;height:48px;max-height:329px;transition:height .28s cubic-bezier(.4,0,.2,1);padding:5px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){[_nghost-%COMP%]{max-height:40%}}.toast-panel-for-expansion-opened[_nghost-%COMP%]{height:329px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.toast-panel-for-expansion-opened[_nghost-%COMP%]{height:40%}}igo-panel[_ngcontent-%COMP%]{position:relative;height:100%}igo-panel[_ngcontent-%COMP%]     .igo-panel-header:hover{cursor:pointer}div[igostoppropagation][_ngcontent-%COMP%]{height:100%;width:100%}"],data:{animation:[function pt(a="50ms",n="280ms",t="ease-in-out"){return(0,s.X$)("showContent",[(0,s.SB)("true",(0,s.oB)({opacity:1,display:"block"})),(0,s.SB)("false",(0,s.oB)({opacity:0,display:"none"})),(0,s.eR)("false => true",(0,s.jt)(`${a} ${n} ${t}`)),(0,s.eR)("true => false",(0,s.jt)("0ms"))])}()]},changeDetection:0});const mt=function(a){return{toolActivated:a}};class K{constructor(n,t,o){this.toolState=n,this.configService=t,this.catalogState=o,this.title$=new _.X(void 0),this.openedChange=new e.vpe,this.toolChange=new e.vpe}get map(){return this._map}set map(n){this._map=n}get opened(){return this._opened}set opened(n){n!==this._opened&&(this._opened=n,this.openedChange.emit(this._opened))}get toolbox(){return this.toolState.toolbox}ngOnInit(){this.activeTool$$=this.toolbox.activeTool$.subscribe(n=>{const t=this.configService.getConfig("sidenavTitle")||"IGO";if(n)if("catalogBrowser"===n.name)for(const o of this.catalogState.catalogStore.all())!0===this.catalogState.catalogStore.state.get(o).selected&&this.title$.next(o.title);else if("activeTimeFilter"===n.name||"activeOgcFilter"===n.name)for(const o of this.map.layers)!0===o.options.active&&this.title$.next(o.title);else this.title$.next(n.title);else this.title$.next(t);this.toolChange.emit(n)})}ngOnDestroy(){this.activeTool$$.unsubscribe()}onPreviousButtonClick(){this.toolbox.activatePreviousTool()}onUnselectButtonClick(){this.toolbox.deactivateTool()}}K.\u0275fac=function(n){return new(n||K)(e.Y36(w.EH),e.Y36(h.E4),e.Y36(w.Yy))},K.\u0275cmp=e.Xpm({type:K,selectors:[["app-sidenav"]],inputs:{map:"map",opened:"opened"},outputs:{openedChange:"openedChange",toolChange:"toolChange"},decls:14,vars:20,consts:[["mode","side",3,"autoFocus","opened","openedChange"],[1,"app-sidenav-content"],[1,"app-content",3,"ngClass"],["content",""],[3,"unselectButton",4,"ngIf"],[3,"title"],["mat-icon-button","","panelLeftButton","","tooltip-position","below","matTooltipShowDelay","500",3,"matTooltip","click",4,"ngIf"],["panelRightButton","","styleButton","icon"],["color","primary",1,"igo-toolbox",3,"animate","toolbox"],[3,"unselectButton"],["mat-icon-button","","panelLeftButton","","tooltip-position","below","matTooltipShowDelay","500",3,"matTooltip","click"],["svgIcon","arrow-left"]],template:function(n,t){1&n&&(e.TgZ(0,"mat-sidenav",0),e.NdJ("openedChange",function(i){return t.opened=i}),e.TgZ(1,"div",1)(2,"div",2,3),e.ALo(4,"async"),e.YNc(5,dt,1,0,"igo-home-button",4),e.ALo(6,"async"),e.TgZ(7,"igo-panel",5),e.ALo(8,"translate"),e.ALo(9,"async"),e.YNc(10,ht,3,3,"button",6),e.ALo(11,"async"),e._UZ(12,"igo-interactive-tour",7)(13,"igo-toolbox",8),e.qZA()()()()),2&n&&(e.Q6J("autoFocus",!1)("opened",t.opened),e.xp6(2),e.Q6J("ngClass",e.VKq(18,mt,e.lcZ(4,8,t.toolbox.activeTool$))),e.xp6(3),e.Q6J("ngIf",e.lcZ(6,10,t.toolbox.activeTool$)),e.xp6(2),e.Q6J("title",e.lcZ(8,12,e.lcZ(9,14,t.title$))),e.xp6(3),e.Q6J("ngIf",e.lcZ(11,16,t.toolbox.activeTool$)),e.xp6(3),e.Q6J("animate",!0)("toolbox",t.toolbox))},dependencies:[f.mk,f.O5,S.Hw,C.lW,N.JX,b.gM,c.yX,c.zv,c.bB,c.p1,f.Ov,B.X$],styles:["mat-sidenav[_ngcontent-%COMP%]{-o-box-shadow:2px 2px 2px 0px #dddddd;box-shadow:2px 2px 2px #ddd}[_nghost-%COMP%]{background-color:#fff}[_nghost-%COMP%]     mat-sidenav{z-index:3!important}mat-sidenav[_ngcontent-%COMP%]{height:100%;width:400px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){mat-sidenav[_ngcontent-%COMP%]{width:calc(100% - 45px);max-width:400px}}.app-content[_ngcontent-%COMP%], igo-panel[_ngcontent-%COMP%]{height:100%}.app-sidenav-content[_ngcontent-%COMP%]{margin-top:50px;height:calc(100% - 50px)}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-sidenav-content[_ngcontent-%COMP%]{height:calc(100% - 50px)}}igo-panel[_ngcontent-%COMP%]     .igo-panel-content{position:relative}div.toolActivated[_ngcontent-%COMP%] > igo-panel[_ngcontent-%COMP%]    >div.igo-panel-header{margin-left:50px;position:relative}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-toolbox[_ngcontent-%COMP%]{overflow:auto}}"],changeDetection:0});const Te=function(a){return{width:a}};function gt(a,n){if(1&a&&(e.ynx(0),e._UZ(1,"img",6),e.BQk()),2&a){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("src",t.imgSrc,e.LSH)("alt",t.alt)("ngStyle",e.VKq(3,Te,t.imgSize))}}function ut(a,n){if(1&a&&(e.TgZ(0,"a",4),e._uU(1),e.YNc(2,gt,2,5,"ng-container",5),e.qZA()),2&a){const t=e.oxw().$implicit;e.Q6J("href",t.link,e.LSH),e.xp6(1),e.hij(" ",t.text," "),e.xp6(1),e.Q6J("ngIf",t.imgSrc)}}function ft(a,n){if(1&a&&(e.ynx(0),e._UZ(1,"img",6),e.BQk()),2&a){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("src",t.imgSrc,e.LSH)("alt",t.alt)("ngStyle",e.VKq(3,Te,t.imgSize))}}function xt(a,n){if(1&a&&(e._uU(0),e.YNc(1,ft,2,5,"ng-container",5)),2&a){const t=e.oxw().$implicit;e.hij(" ",t.text," "),e.xp6(1),e.Q6J("ngIf",t.imgSrc)}}function _t(a,n){if(1&a&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,ut,3,3,"a",2),e.YNc(3,xt,2,2,"ng-template",null,3,e.W1O),e.qZA(),e.BQk()),2&a){const t=n.$implicit,o=e.MAs(4);e.xp6(1),e.Udp("position",t.fixed?"fixed":"absolute")("margin-left",t.marginLeft)("margin-right",t.marginRight)("margin-top",t.marginTop)("margin-bottom",t.marginBottom)("font-size",t.fontSize),e.Q6J("ngClass",t.cssClass),e.xp6(1),e.Q6J("ngIf",t.link)("ngIfElse",o)}}class ee{constructor(n,t,o){this.contextService=n,this.mediaService=t,this.configService=o,this.mapOverlay=[]}ngAfterViewInit(){this.context$$=this.contextService.context$.subscribe(n=>{this.handleContextChange(n),this.context=n}),this.media$$=this.mediaService.media$.subscribe(n=>this.handleContextChange(this.context))}ngOnDestroy(){this.context$$.unsubscribe(),this.media$$.unsubscribe()}handleContextChange(n){let t=[];if(void 0!==n){this.mapOverlay=[],n.mapOverlay?t=n.mapOverlay:this.configService.getConfig("mapOverlay")&&(t=this.configService.getConfig("mapOverlay"));for(const o of t)(!o.media&&"desktop"===this.mediaService.getMedia()||o.media&&o.media.includes(this.mediaService.getMedia()))&&this.mapOverlay.push(o)}}}ee.\u0275fac=function(n){return new(n||ee)(e.Y36(E.Ob),e.Y36(h.yJ),e.Y36(h.E4))},ee.\u0275cmp=e.Xpm({type:ee,selectors:[["app-map-overlay"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"mapOverlayDefault",3,"ngClass"],["target","_blank",3,"href",4,"ngIf","ngIfElse"],["templateNoLink",""],["target","_blank",3,"href"],[4,"ngIf"],[3,"src","alt","ngStyle"]],template:function(n,t){1&n&&e.YNc(0,_t,5,15,"ng-container",0),2&n&&e.Q6J("ngForOf",t.mapOverlay)},dependencies:[f.mk,f.sg,f.O5,f.PC],styles:["[_nghost-%COMP%]{height:100%;top:0;left:0;right:0;position:fixed;pointer-events:none}.mapOverlayDefault[_ngcontent-%COMP%]{position:absolute;white-space:nowrap;pointer-events:auto}.bottom-right[_ngcontent-%COMP%]{bottom:0;right:0}.top-right[_ngcontent-%COMP%]{top:0;right:0}.bottom-left[_ngcontent-%COMP%]{bottom:0;left:0}.top-left[_ngcontent-%COMP%]{top:0;left:0}.bottom-center[_ngcontent-%COMP%]{bottom:0;left:50%;transform:translate(-50%)}.top-center[_ngcontent-%COMP%]{top:0;left:50%;transform:translate(-50%)}.center-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%)}.center-right[_ngcontent-%COMP%]{top:50%;right:0}.center-left[_ngcontent-%COMP%]{top:50%;left:0}"]});const wt=["mapBrowser"],vt=["searchBar"];function Ct(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"igo-menu-button",21),e.NdJ("openSidenav",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onToggleSidenavClick())}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("sidenavOpened",t.sidenavOpened)}}function yt(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"igo-search-bar",22,23),e.NdJ("searchTermChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onSearchTermChange(i))})("pointerSummaryStatus",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onPointerSummaryStatusChange(i))})("searchResultsGeometryStatus",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onSearchResultsGeometryStatusChange(i))})("reverseSearchCoordsFormatStatus",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onReverseCoordsFormatStatusChange(i))})("search",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onSearch(i))})("clearFeature",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onClearSearch())})("searchSettingsChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSearchSettingsChange())}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("term",t.searchBarTerm)("termSplitter",t.termSplitter)("minLength",t.minSearchTermLength)("searchSettings",!0)("forceNA",t.forceCoordsNA)("store",t.searchStore)("pointerSummaryEnabled",t.igoSearchPointerSummaryEnabled)("searchResultsGeometryEnabled",t.searchResultsGeometryEnabled)("reverseSearchCoordsFormatEnabled",t.igoReverseSearchCoordsFormatEnabled)}}function St(a,n){if(1&a&&e._UZ(0,"igo-offline-button",7),2&a){const t=e.oxw();e.Q6J("map",t.map)("@controlsOffsetY",t.getControlsOffsetY())("@mobileOffsetY",t.getToastPanelStatus())}}function bt(a,n){if(1&a&&e._UZ(0,"igo-geolocate-button",7),2&a){const t=e.oxw();e.Q6J("map",t.map)("@controlsOffsetY",t.getControlsOffsetY())("@mobileOffsetY",t.getToastPanelStatus())}}function Ot(a,n){if(1&a&&e._UZ(0,"igo-home-extent-button",24),2&a){const t=e.oxw();e.Q6J("map",t.map)("extentOverride",t.homeExtent)("centerOverride",t.homeCenter)("zoomOverride",t.homeZoom)}}function Pt(a,n){if(1&a&&e._UZ(0,"igo-user-button",7),2&a){const t=e.oxw();e.Q6J("map",t.map)("@controlsOffsetY",t.getControlsOffsetY())("@mobileOffsetY",t.getToastPanelStatus())}}function Mt(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().ngIf,r=e.oxw(2);return e.KtG(r.addFeature(i))}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",37),e.qZA()}if(2&a){const t=e.oxw().ngIf;e.Q6J("disabled",!1===t.layer.options.sourceOptions.edition.addButton)("matTooltip",e.lcZ(1,2,"workspace.addFeature"))}}function Tt(a,n){if(1&a&&e._UZ(0,"igo-actionbar",38),2&a){const t=e.oxw().ngIf,o=e.oxw(2);e.Q6J("store",t.actionStore)("withIcon",!0)("withTitle",o.actionbarWithTitle)("horizontal",!0)("withToggleButton","overlay"===o.actionbarMode)("iconColor","primary")("color","primary")("mode",o.actionbarMode)("overlayClass",o.workspaceMenuClass)}}function kt(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.zoomToSelectedFeatureWks())}),e.ALo(1,"async"),e.ALo(2,"translate"),e._UZ(3,"mat-icon",40),e.ALo(4,"async"),e.qZA()}if(2&a){const t=e.oxw(3);e.Q6J("disabled",0===e.lcZ(1,3,t.workspaceState.workspaceSelection$).length)("matTooltip",e.lcZ(2,5,"toastPanel.zoomOnFeaturesTooltip")),e.xp6(3),e.s9C("svgIcon",e.lcZ(4,7,t.workspaceState.workspaceSelection$).length>1?"magnify-scan":"magnify-plus-outline")}}function Et(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"igo-entity-table-paginator",41),e.NdJ("paginatorChange",function(i){e.CHM(t);const r=e.oxw(3);return e.KtG(r.paginatorChange(i))}),e.qZA()}if(2&a){const t=e.oxw().ngIf,o=e.oxw(2);e.Q6J("store",t.entityStore)("entitySortChange$",o.workspaceEntitySortChange$)("paginatorOptions",o.paginatorOptions)}}const Ft=function(a){return{disabled:a}};function $t(a,n){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",29),e.NdJ("click",function(){const r=e.CHM(t).ngIf;return e.KtG(r.layer.visible=!r.layer.visible)}),e.ALo(2,"translate"),e.ALo(3,"translate"),e._UZ(4,"mat-icon",30),e.ALo(5,"async"),e.qZA(),e.YNc(6,Mt,3,4,"button",31),e.YNc(7,Tt,1,9,"igo-actionbar",32),e.YNc(8,kt,5,9,"button",33),e._UZ(9,"div",34),e.YNc(10,Et,1,3,"igo-entity-table-paginator",35),e.BQk()}if(2&a){const t=n.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("color",t.layer.visible?"primary":"default")("matTooltip",t.layer.visible?e.lcZ(2,8,"igo.geo.layer.hideLayer"):e.lcZ(3,10,"igo.geo.layer.showLayer")),e.xp6(3),e.Q6J("ngClass",e.VKq(14,Ft,!0!==e.lcZ(5,12,t.inResolutionRange$)))("svgIcon",t.layer.visible?"eye":"eye-off"),e.xp6(2),e.Q6J("ngIf",o.isEditionWorkspace(t)),e.xp6(1),e.Q6J("ngIf",t.actionStore),e.xp6(1),e.Q6J("ngIf",o.workspaceVisibility()),e.xp6(2),e.Q6J("ngIf",o.workspaceVisibility())}}function Bt(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"igo-entity-table",44),e.NdJ("entitySortChange",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.entitySortChange())})("entitySelectChange",function(i){e.CHM(t);const r=e.oxw(3);return e.KtG(r.entitySelectChange(i))}),e.qZA()}if(2&a){const t=e.oxw().ngIf,o=e.oxw(2);e.Tol(o.isEditionWorkspace(t)?"edition-table":""),e.Q6J("paginator",o.workspacePaginator)("store",t.entityStore)("template",t.meta.tableTemplate)}}function At(a,n){if(1&a&&(e.ynx(0),e.YNc(1,Bt,1,5,"igo-entity-table",42),e.TgZ(2,"span",43),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&a){const t=n.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.entityStore&&t.meta&&t.meta.tableTemplate&&o.workspaceVisibility()),e.xp6(2),e.Oqu(e.lcZ(4,2,o.workspaceNotAvailableMessage))}}function jt(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"app-expansion-panel",25),e.NdJ("expandedChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.expansionPanelExpanded=i)}),e.ALo(1,"async"),e.ynx(2,26),e.TgZ(3,"igo-workspace-selector",27),e.NdJ("toolToActivate",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.toolToActivateFromWorkspace(i))})("changeWorkspace",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.workspaceState.setActiveWorkspaceByTitle(i))})("disableSwitch",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.workspaceSwitchDisabled=i)})("relationLayers",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.refreshRelationsWorkspace(i))})("rowsInMapExtentCheckCondition",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.workspaceState.rowsInMapExtentCheckCondition$.next(i))}),e.qZA(),e.YNc(4,$t,11,16,"ng-container",28),e.ALo(5,"async"),e.BQk(),e.YNc(6,At,5,4,"ng-container",28),e.ALo(7,"async"),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("backdropShown",t.expansionPanelBackdropShown)("expanded",t.expansionPanelExpanded)("maximized",e.lcZ(1,10,t.workspaceMaximize$))("@expansionPanelSize",t.getExpansionPanelStatus())("@toastOffsetY",t.isMobile()&&!t.toastPanelOpened&&t.queryState.store.entities$.value.length>0&&!t.expansionPanelExpanded?"true":"false"),e.xp6(3),e.Q6J("store",t.workspaceStore)("disabled",t.workspaceSwitchDisabled)("map",t.map),e.xp6(1),e.Q6J("ngIf",e.lcZ(5,12,t.selectedWorkspace$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,14,t.selectedWorkspace$))}}function zt(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"igo-workspace-widget-outlet",45),e.NdJ("deactivateWidget",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onDeactivateWorkspaceWidget())}),e.qZA()}if(2&a){const t=n.ngIf;e.Q6J("workspace",t)}}function Rt(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"app-toast-panel",46),e.NdJ("openedChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.toastOpenedChange(i))})("fullExtentEvent",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.fullExtent=i)})("windowHtmlDisplayEvent",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.setToastPanelHtmlDisplay(i))}),e.ALo(1,"async"),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("map",t.map)("store",t.queryStore)("hasFeatureEmphasisOnSelection",t.hasFeatureEmphasisOnSelection)("@toastPanelOffsetX",e.lcZ(1,7,t.toastPanelOffsetX$))("@toastPanelOffsetY",t.getToastPanelOffsetY())("@toastPanelMobileSidenav",t.isMobile()&&t.sidenavOpened||t.isTablet()&&t.isPortrait()&&t.sidenavOpened)("opened",t.toastPanelOpened)}}function Zt(a,n){if(1&a&&e._UZ(0,"igo-actionbar",47),2&a){const t=e.oxw();e.Q6J("store",t.contextMenuStore)("withIcon",!1)("horizontal",!0)}}const It=function(a){return{"igo-attribution-offset":a}};class te{constructor(n,t,o,i,r,p,m,u,g,x,P,xe,A,_e,we,ve,Yt,Nt,Ut,Gt,qt,Vt,Xt,Kt,en,tn){this.route=n,this.workspaceState=t,this.authService=o,this.mediaService=i,this.layerService=r,this.dataSourceService=p,this.cdRef=m,this.capabilitiesService=u,this.contextState=g,this.mapState=x,this.searchState=P,this.queryState=xe,this.toolState=A,this.searchSourceService=_e,this.configService=we,this.importService=ve,this.http=Yt,this.languageService=Nt,this.messageService=Ut,this.welcomeWindowService=Gt,this.dialogWindow=qt,this.queryService=Vt,this.storageService=Xt,this.editionWorkspaceService=Kt,this.directionState=en,this.configFileToGeoDBService=tn,this.toastPanelOffsetX$=new _.X(void 0),this.sidenavOpened$=new _.X(!1),this.minSearchTermLength=2,this.hasExpansionPanel=!1,this.hasGeolocateButton=!0,this.hasHomeExtentButton=!1,this.showMenuButton=!0,this.showSearchBar=!0,this.showRotationButtonIfNoRotation=!1,this.hasFeatureEmphasisOnSelection=!1,this.workspaceNotAvailableMessage="workspace.disabled.resolution",this.workspaceEntitySortChange$=new _.X(!1),this.workspaceSwitchDisabled=!1,this.paginatorOptions={pageSize:50,pageSizeOptions:[1,5,10,20,50,100,500]},this.workspaceMenuClass="workspace-menu",this.fullExtent=this.storageService.get("fullExtent"),this.workspaceMaximize$$=[],this.workspaceMaximize$=new _.X(this.storageService.get("workspaceMaximize")),this.matDialogRef$=new _.X(void 0),this.searchBarTerm="",this.onSettingsChange$=new _.X(void 0),this.termDefinedInUrl=!1,this.termSplitter="|",this.termDefinedInUrlTriggered=!1,this.addedLayers$$=[],this.forceCoordsNA=!1,this.contextMenuStore=new c.Dn([]),this.contextLoaded=!1,this.toastPanelForExpansionOpened=!0,this.showToastPanelForExpansionToggle=!1,this.selectedWorkspace$=new _.X(void 0),this.toastPanelHtmlDisplay=!1,this._toastPanelOpened=!1!==this.storageService.get("toastOpened"),this.hasExpansionPanel=this.configService.getConfig("hasExpansionPanel"),this.hasHomeExtentButton=void 0!==this.configService.getConfig("homeExtentButton"),this.hasGeolocateButton=void 0===this.configService.getConfig("hasGeolocateButton")||this.configService.getConfig("hasGeolocateButton"),this.showRotationButtonIfNoRotation=void 0!==this.configService.getConfig("showRotationButtonIfNoRotation")&&this.configService.getConfig("showRotationButtonIfNoRotation"),this.showMenuButton=void 0===this.configService.getConfig("showMenuButton")||this.configService.getConfig("showMenuButton"),this.showSearchBar=void 0===this.configService.getConfig("searchBar.showSearchBar")||this.configService.getConfig("searchBar.showSearchBar"),this.forceCoordsNA=this.configService.getConfig("app.forceCoordsNA"),this.hasFeatureEmphasisOnSelection=this.configService.getConfig("hasFeatureEmphasisOnSelection"),this.igoSearchPointerSummaryEnabled=this.configService.getConfig("hasSearchPointerSummary"),void 0===this.igoSearchPointerSummaryEnabled&&(this.igoSearchPointerSummaryEnabled=this.storageService.get("searchPointerSummaryEnabled")||!1),this.igoReverseSearchCoordsFormatEnabled=this.storageService.get("reverseSearchCoordsFormatEnabled")||!1}get map(){return this.mapState.map}get sidenavOpened(){return this.sidenavOpened$.value}set sidenavOpened(n){this.sidenavOpened$.next(n)}get auth(){return this.configService.getConfig("auth")||[]}get toastPanelOpened(){return this._toastPanelOpened}set toastPanelOpened(n){n===!this._toastPanelOpened&&(this._toastPanelOpened=n,this.cdRef.detectChanges())}isMobile(){return this.mediaService.getMedia()===h.pU.Mobile}isTablet(){return this.mediaService.getMedia()===h.pU.Tablet}isLandscape(){return this.mediaService.getOrientation()===h.pC.Landscape}isPortrait(){return this.mediaService.getOrientation()===h.pC.Portrait}get backdropShown(){return(this.isMobile()||this.isTablet()&&this.isPortrait())&&this.sidenavOpened}get expansionPanelExpanded(){return this.workspaceState.workspacePanelExpanded}set expansionPanelExpanded(n){this.workspaceState.workspacePanelExpanded=n,!0===n?this.map.viewController.setPadding({bottom:280}):this.map.viewController.setPadding({bottom:0})}get contextUri(){var n;return null!==(n=this.contextState.context$)&&void 0!==n&&n.getValue()?this.contextState.context$.getValue().uri:void 0}get toastPanelShown(){return!0}get expansionPanelBackdropShown(){return this.expansionPanelExpanded&&this.toastPanelForExpansionOpened}get actionbarMode(){return c.rO.Overlay}get actionbarWithTitle(){return this.actionbarMode===c.rO.Overlay}get searchStore(){return this.searchState.store}get searchResultsGeometryEnabled(){return this.searchState.searchResultsGeometryEnabled$.value}get queryStore(){return this.queryState.store}get toolbox(){return this.toolState.toolbox}get toastPanelContent(){let n;return void 0!==this.workspace&&this.workspace.hasWidget&&(n="workspace"),n}get workspaceStore(){return this.workspaceState.store}get workspace(){return this.workspaceState.workspace$.value}ngOnInit(){window.IGO=this,this.searchState.searchTermSplitter$.next(this.termSplitter),this.initWelcomeWindow(),this.route.queryParams.subscribe(t=>{this.readLanguageParam(t)}),this.authService.authenticate$.subscribe(t=>{this.contextLoaded=!1}),this.context$$=this.contextState.context$.subscribe(t=>this.onChangeContext(t));const n=[{id:"coordinates",title:"coordinates",handler:()=>this.searchCoordinate(this.contextMenuCoord)},{id:"googleMaps",title:"googleMap",handler:()=>this.openGoogleMaps(this.contextMenuCoord)},{id:"googleStreetView",title:"googleStreetView",handler:()=>this.openGoogleStreetView(this.contextMenuCoord)}];if(this.contextMenuStore.load(n),this.queryStore.count$.pipe((0,ze.G)()).subscribe(([t,o])=>{this.map.viewController.padding[2]=o?280:0,0===t&&o!==t&&this.isMobile()&&this.hasExpansionPanel&&this.expansionPanelExpanded&&this.toastPanelOpened&&(this.toastPanelOpened=!1)}),this.map.ol.once("rendercomplete",()=>{this.readQueryParams(),void 0!==this.configService.getConfig("geolocate.activateDefault")&&(this.map.geolocationController.tracking=this.configService.getConfig("geolocate.activateDefault"))}),this.onSettingsChange$.subscribe(()=>{this.searchState.setSearchSettingsChange()}),this.searchState.selectedResult$.subscribe(t=>{t&&this.isMobile()&&this.closeSidenav()}),this.workspaceState.workspaceEnabled$.next(this.hasExpansionPanel),this.workspaceState.store.empty$.subscribe(t=>{!this.hasExpansionPanel||(this.workspaceState.workspaceEnabled$.next(!t),t&&(this.expansionPanelExpanded=!1),this.updateMapBrowserClass())}),this.workspaceMaximize$$.push(this.workspaceState.workspaceMaximize$.subscribe(t=>{this.workspaceMaximize$.next(t),this.updateMapBrowserClass()})),this.workspaceMaximize$$.push(this.workspaceMaximize$.subscribe(()=>this.updateMapBrowserClass())),this.workspaceState.workspace$.subscribe(t=>{var o,i,r,p;t?(this.selectedWorkspace$.next(t),this.expansionPanelExpanded=!0,(null===(o=t.layer.options.workspace)||void 0===o?void 0:o.pageSize)&&(null===(i=t.layer.options.workspace)||void 0===i?void 0:i.pageSizeOptions)?this.paginatorOptions={pageSize:null===(r=t.layer.options.workspace)||void 0===r?void 0:r.pageSize,pageSizeOptions:null===(p=t.layer.options.workspace)||void 0===p?void 0:p.pageSizeOptions}:this.paginatorOptions={pageSize:50,pageSizeOptions:[1,5,10,20,50,100,500]}):this.expansionPanelExpanded=!1}),this.activeWidget$$=this.workspaceState.activeWorkspaceWidget$.subscribe(t=>{void 0!==t?(this.openToastPanelForExpansion(),this.showToastPanelForExpansionToggle=!0):(this.closeToastPanelForExpansion(),this.showToastPanelForExpansionToggle=!1)}),this.openSidenav$$=this.toolState.openSidenav$.subscribe(t=>{t&&(this.openSidenav(),this.toolState.openSidenav$.next(!1))}),this.sidenavMediaAndOrientation$$=(0,ge.a)([this.sidenavOpened$,this.mediaService.media$,this.mediaService.orientation$]).pipe((0,U.b)(50)).subscribe(t=>{this.computeToastPanelOffsetX()}),this.configService.getConfig("importExport")){const t=this.configService.getConfig("importExport.configFileToGeoDBService");t&&this.configFileToGeoDBService.load(t)}}setToastPanelHtmlDisplay(n){this.toastPanelHtmlDisplay=n,this.computeToastPanelOffsetX()}computeToastPanelOffsetX(){this.isMobile()||!this.isLandscape()?Promise.resolve().then(()=>this.toastPanelOffsetX$.next(void 0)):Promise.resolve().then(()=>this.toastPanelOffsetX$.next(this.getToastPanelExtent()))}workspaceVisibility(){const n=this.selectedWorkspace$.value;return n.inResolutionRange$.value?n.entityStore.empty$.value&&!n.layer.visible?this.workspaceNotAvailableMessage="workspace.disabled.visible":this.workspaceNotAvailableMessage="":this.workspaceNotAvailableMessage="workspace.disabled.resolution",n.inResolutionRange$.value}isEditionWorkspace(n){return n instanceof l.S42}addFeature(n){let t={type:"Feature",properties:{}};t.properties=this.createFeatureProperties(n.layer),this.workspaceState.rowsInMapExtentCheckCondition$.next(!1),n.editFeature(t,n)}createFeatureProperties(n){let t={};return n.options.sourceOptions.sourceFields.forEach(o=>{!o.primary&&o.visible&&(t[o.name]="")}),t}paginatorChange(n){this.workspacePaginator=n}entitySortChange(){this.workspaceEntitySortChange$.next(!0)}entitySelectChange(n){this.getQuerySearchSource();const o=[];if((!(this.selectedWorkspace$.value instanceof l.RhL||this.selectedWorkspace$.value instanceof l.RMI)||this.selectedWorkspace$.value.getLayerWksOptionTabQuery())&&n&&n.added){const i=n.added.map(p=>{if(p&&p.ol&&p.ol.getProperties()._featureStore.layer&&p.ol.getProperties()._featureStore.layer.visible){const m=p.ol,u=p.ol.getProperties()._featureStore.layer,g=(0,l.ve2)(m,u.map.projection,u.ol);g.meta.alias=this.queryService.getAllowedFieldsAndAlias(u),g.meta.title=this.queryService.getQueryTitle(g,u)||g.meta.title;let x=o.find(P=>P.title===g.meta.sourceTitle);return x||(x=new l.W2O({title:g.meta.sourceTitle}),o.push(x)),(0,l.$LA)(g,x)}});(0,ue.of)(i).subscribe(p=>{this.queryStore.load(p)})}}ngOnDestroy(){this.context$$.unsubscribe(),this.activeWidget$$.unsubscribe(),this.openSidenav$$.unsubscribe(),this.workspaceMaximize$$.map(n=>n.unsubscribe()),this.sidenavMediaAndOrientation$$.unsubscribe()}cancelOngoingAddLayer(){this.addedLayers$$.forEach(n=>n.unsubscribe()),this.addedLayers$$=[]}onBackdropClick(){this.closeSidenav()}onToggleSidenavClick(){this.toggleSidenav()}onDeactivateWorkspaceWidget(){this.closeToastPanelForExpansion()}closeToastPanelForExpansion(){this.toastPanelForExpansionOpened=!1}openToastPanelForExpansion(){this.toastPanelForExpansionOpened=!0}onMapQuery(n){this.getQuerySearchSource();const o=[],r=n.features.map(m=>{let u=o.find(g=>g.title===m.meta.sourceTitle);if(!this.getFeatureIsSameActiveWks(m)||!this.getWksActiveOpenInResolution()||this.workspace.getLayerWksOptionMapQuery())return u||(u=new l.W2O({title:m.meta.sourceTitle}),o.push(u)),(0,l.$LA)(m,u)}).filter(m=>void 0!==m);(0,ue.of)(r).subscribe(m=>{this.queryStore.load(m)})}onSearchTermChange(n){var t;(null===(t=this.routeParams)||void 0===t?void 0:t.search)&&n!==this.routeParams.search&&this.searchState.deactivateCustomFilterTermStrategy(),this.searchBarTerm=n,this.searchState.setSearchTerm(n),n.replace(/(#[^\s]*)/g,"").trim().length<2?this.onClearSearch():this.onBeforeSearch()}onSearch(n){const t=n.results,o=!(0,l.OcM)(n.research.source);let i;i=o?this.searchSourceService.getEnabledSources().filter(l._iF):this.searchSourceService.getEnabledSources().filter(l.OcM);const r=this.searchStore.entities$.value.filter(p=>p.source!==n.research.source&&i.includes(p.source)).concat(t);this.searchStore.updateMany(r)}onSearchResultsGeometryStatusChange(n){this.searchState.setSearchResultsGeometryStatus(n)}onReverseCoordsFormatStatusChange(n){this.storageService.set("reverseSearchCoordsFormatEnabled",n),this.igoReverseSearchCoordsFormatEnabled=n}onSearchSettingsChange(){this.onSettingsChange$.next(!0)}closeSidenav(){this.sidenavOpened=!1,this.map.viewController.padding[3]=0}openSidenav(){this.sidenavOpened=!0,this.map.viewController.padding[3]=this.isMobile()?0:400}toggleSidenav(){this.sidenavOpened?this.closeSidenav():this.openSidenav(),this.computeToastPanelOffsetX()}toolChanged(n){n&&"searchResults"===n.name&&this.searchBar&&this.searchBar.nativeElement.getElementsByTagName("input")[0].focus()}computeHomeExtentValues(n){var t,o;null!==(o=null===(t=null==n?void 0:n.map)||void 0===t?void 0:t.view)&&void 0!==o&&o.homeExtent?(this.homeExtent=n.map.view.homeExtent.extent,this.homeCenter=n.map.view.homeExtent.center,this.homeZoom=n.map.view.homeExtent.zoom):(this.homeExtent=void 0,this.homeCenter=void 0,this.homeZoom=void 0)}onChangeContext(n){if(this.cancelOngoingAddLayer(),void 0!==n){if(this.workspace&&!this.workspace.entityStore.empty&&this.workspace.entityStore.clear(),this.queryState.store.empty||this.queryState.store.softClear(),this.computeHomeExtentValues(n),this.route.queryParams.pipe((0,U.b)(250)).subscribe(t=>{(!t.context||t.context===n.uri)&&this.readLayersQueryParams(t)}),this.contextLoaded){const t=this.toolbox.getTool("contextManager");let i=(t?t.options:{}).toolToOpenOnContextChange;if(!i){const r=["mapTools","map","mapDetails","mapLegend"];for(const p of r)if(this.toolbox.getTool(p)){i=p;break}}i&&this.toolbox.activateTool(i)}this.contextLoaded=!0}}onBeforeSearch(){(!this.toolbox.activeTool$.value||"searchResults"!==this.toolbox.activeTool$.value.name)&&this.toolbox.activateTool("searchResults"),this.openSidenav()}toastOpenedChange(n){this.map.viewController.padding[2]=n?280:0,this.handleExpansionAndToastOnMobile(),this.toastPanelOpened=n}handleExpansionAndToastOnMobile(){this.isMobile()&&this.hasExpansionPanel&&this.expansionPanelExpanded&&this.toastPanelOpened&&(this.expansionPanelExpanded=!1)}onClearSearch(){this.map.searchResultsOverlay.clear(),this.searchStore.clear(),this.searchState.setSelectedResult(void 0),this.searchState.deactivateCustomFilterTermStrategy()}getQuerySearchSource(){return this.searchSourceService.getSources().find(n=>n instanceof l.W2O)}onContextMenuOpen(n){this.contextMenuCoord=this.getClickCoordinate(n)}getClickCoordinate(n){const t=n,o=this.mapBrowser.nativeElement.getBoundingClientRect();t.y=t.y-o.top+(window.scrollY||window.pageYOffset),t.x=t.x-o.left+(window.scrollX||window.pageXOffset);const i=[t.x,t.y],r=this.map.ol.getCoordinateFromPixel(i),p=this.map.projection;return Pe.vs(r,p,"EPSG:4326")}openGoogleMaps(n){window.open(l.Gij.getGoogleMapsCoordLink(n[0],n[1]))}openGoogleStreetView(n){window.open(l.Gij.getGoogleStreetViewLink(n[0],n[1]))}searchCoordinate(n){this.searchBarTerm=this.igoReverseSearchCoordsFormatEnabled?n.reverse().map(t=>t.toFixed(6)).join(", "):n.map(t=>t.toFixed(6)).join(", ")}updateMapBrowserClass(){const n=this.queryState.store.entities$.value.length>0;this.hasExpansionPanel&&this.workspaceState.workspaceEnabled$.value?this.mapBrowser.nativeElement.classList.add("has-expansion-panel"):this.mapBrowser.nativeElement.classList.remove("has-expansion-panel"),this.hasExpansionPanel&&this.expansionPanelExpanded?this.workspaceMaximize$.value?(this.mapBrowser.nativeElement.classList.add("expansion-offset-maximized"),this.mapBrowser.nativeElement.classList.remove("expansion-offset")):(this.mapBrowser.nativeElement.classList.add("expansion-offset"),this.mapBrowser.nativeElement.classList.remove("expansion-offset-maximized")):this.workspaceMaximize$.value?this.mapBrowser.nativeElement.classList.remove("expansion-offset-maximized"):this.mapBrowser.nativeElement.classList.remove("expansion-offset"),this.sidenavOpened?this.mapBrowser.nativeElement.classList.add("sidenav-offset"):this.mapBrowser.nativeElement.classList.remove("sidenav-offset"),this.sidenavOpened&&!this.isMobile()?this.mapBrowser.nativeElement.classList.add("sidenav-offset-baselayers"):this.mapBrowser.nativeElement.classList.remove("sidenav-offset-baselayers"),this.toastPanelOpened||!n||this.expansionPanelExpanded?this.mapBrowser.nativeElement.classList.remove("toast-offset-scale-line"):this.mapBrowser.nativeElement.classList.add("toast-offset-scale-line"),!this.toastPanelOpened&&n&&(this.isMobile()||this.isTablet()||this.sidenavOpened)&&!this.expansionPanelExpanded?this.mapBrowser.nativeElement.classList.add("toast-offset-attribution"):this.mapBrowser.nativeElement.classList.remove("toast-offset-attribution")}getToastPanelExtent(){return this.sidenavOpened?this.sidenavOpened?this.toastPanelHtmlDisplay&&this.mediaService.isDesktop()?"htmlDisplayOffsetX":this.fullExtent?"fullOffsetX":"standardOffsetX":void 0:this.toastPanelHtmlDisplay&&this.mediaService.isDesktop()?"htmlDisplay":this.fullExtent?"fullStandard":"standard"}onPointerSummaryStatusChange(n){this.storageService.set("searchPointerSummaryEnabled",n),this.igoSearchPointerSummaryEnabled=n}getExpansionPanelStatus(){return!1===this.sidenavOpened?!0===this.expansionPanelExpanded?"full":"notTriggered":!0===this.sidenavOpened&&!1===this.isMobile()?!0===this.expansionPanelExpanded?"reduced":"reducedNotTriggered":!0===this.sidenavOpened&&!0===this.isMobile()?!0===this.expansionPanelExpanded?"mobile":"notVisible":void 0}getToastPanelOffsetY(){let n="noExpansion";return n=this.expansionPanelExpanded?this.workspaceMaximize$.value?this.toastPanelOpened?"expansionMaximizedAndToastOpened":"expansionMaximizedAndToastClosed":this.toastPanelOpened?"expansionAndToastOpened":"expansionAndToastClosed":"noExpansion",n}getToastPanelStatus(){if(!0===this.isMobile()&&!1===this.toastPanelOpened&&!1===this.sidenavOpened&&!1===this.expansionPanelExpanded&&this.queryState.store.entities$.value.length>0)return"low"}getControlsOffsetY(){return this.expansionPanelExpanded?this.workspaceMaximize$.value?"firstRowFromBottom-expanded-maximized":"firstRowFromBottom-expanded":"firstRowFromBottom"}getBaselayersSwitcherStatus(){let n;return n=this.isMobile()?this.workspaceState.workspaceEnabled$.value?!1===this.expansionPanelExpanded?0===this.queryState.store.entities$.value.length?"secondRowFromBottom":"thirdRowFromBottom":0===this.queryState.store.entities$.value.length?"firstRowFromBottom-expanded":"secondRowFromBottom-expanded":0===this.queryState.store.entities$.value.length?"firstRowFromBottom":"secondRowFromBottom":this.workspaceState.workspaceEnabled$.value?this.expansionPanelExpanded?this.workspaceMaximize$.value?"firstRowFromBottom-expanded-maximized":"firstRowFromBottom-expanded":"secondRowFromBottom":"firstRowFromBottom",n}readQueryParams(){this.route.queryParams.subscribe(n=>{this.routeParams=n,this.readToolParams(),this.readSearchParams(),this.readFocusFirst(),this.computeZoomToExtent()})}readLanguageParam(n){n.lang&&(this.authService.languageForce=!0,this.languageService.setLanguage(n.lang))}computeZoomToExtent(){if(this.routeParams.zoomExtent){const n=this.routeParams.zoomExtent.split(","),t=Pe.$A(n,"EPSG:4326",this.map.projection);this.map.viewController.zoomToExtent(t)}}computeFocusFirst(){setTimeout(()=>{const n=document.getElementsByTagName("igo-search-results-item").item(0);n&&n.click()},1)}readFocusFirst(){if("1"===this.routeParams.sf&&this.termDefinedInUrl){const n=this.searchStore.stateView.all$().pipe((0,F.n)(t=>0===t.length),(0,U.b)(1e3),(0,Oe.q)(1)).subscribe(t=>{n.unsubscribe(),t.length&&!this.termDefinedInUrlTriggered&&(this.computeFocusFirst(),this.termDefinedInUrlTriggered=!0)})}}readSearchParams(){if(this.routeParams.search){if(this.termDefinedInUrl=!0,"1"===this.routeParams.exactMatch&&this.searchState.activateCustomFilterTermStrategy(),this.routeParams.search&&!this.routeParams.zoom&&"1"!==this.routeParams.sf){const n=this.searchStore.stateView.all$().pipe((0,F.n)(t=>0===t.length),(0,U.b)(500),(0,Oe.q)(1)).subscribe(t=>{n.unsubscribe();const o=t.filter(r=>r.entity.meta.dataType===l.D97).map(r=>(new fe.Z).readFeature(r.entity.data,{dataProjection:r.entity.data.projection,featureProjection:this.map.projection})),i=(0,l.HgW)(this.map,o);this.map.viewController.zoomToExtent(i)})}this.searchBarTerm=this.routeParams.search}"1"===this.routeParams.searchGeom&&this.searchState.searchResultsGeometryEnabled$.next(!0)}readToolParams(){if(this.routeParams.tool&&this.matDialogRef$.pipe((0,F.n)(n=>void 0!==n),(0,le.P)()).subscribe(n=>{n||this.toolbox.activateTool(this.routeParams.tool)}),"1"===this.routeParams.sidenav&&setTimeout(()=>{this.openSidenav()},250),this.routeParams.routing){let n=!1;const t=this.routeParams.routing.split(";"),o=this.routeParams.routingOptions;let i;o&&(i=parseInt(o.split("result:")[1],10)),this.directionState.stopsStore.storeInitialized$.pipe((0,F.n)(r=>!r),(0,le.P)()).subscribe(r=>{r&&!n&&(n=!0,t.map((p,m)=>{m>1&&(0,l.yLv)(this.directionState.stopsStore)}),setTimeout(()=>{t.map((p,m)=>{const u=this.directionState.stopsStore.all().find(g=>g.position===m);u.text=p,u.coordinates=p.split(","),this.directionState.stopsStore.update(u)})},1.25*this.directionState.debounceTime))}),this.directionState.routesFeatureStore.count$.pipe((0,F.n)(r=>r<1),(0,le.P)()).subscribe(r=>{r>=1&&this.directionState.zoomToActiveRoute$.next()}),this.directionState.routesFeatureStore.count$.pipe((0,F.n)(r=>r<2),(0,le.P)()).subscribe(()=>{i&&(this.directionState.routesFeatureStore.entities$.value.map(r=>r.properties.active=!1),this.directionState.routesFeatureStore.entities$.value[i].properties.active=!0,this.directionState.zoomToActiveRoute$.next())})}}readLayersQueryParams(n){this.readLayersQueryParamsByType(n,"wms"),this.readLayersQueryParamsByType(n,"wmts"),this.readLayersQueryParamsByType(n,"arcgisrest"),this.readLayersQueryParamsByType(n,"imagearcgisrest"),this.readLayersQueryParamsByType(n,"tilearcgisrest"),this.readVectorQueryParams(n)}getQueryParam(n,t){let o;return t.includes("?")&&(o=new Me.LE({fromString:t.split("?")[1]}).get(n)),o}readLayersQueryParamsByType(n,t){let o,i;switch(t){case"wms":(n.layers||n.wmsLayers)&&n.wmsUrl&&(i="wmsUrl",o=n.wmsLayers?"wmsLayers":"layers");break;case"wmts":n.wmtsLayers&&n.wmtsUrl&&(i="wmtsUrl",o="wmtsLayers");break;case"arcgisrest":n.arcgisLayers&&n.arcgisUrl&&(i="arcgisUrl",o="arcgisLayers");break;case"imagearcgisrest":n.iarcgisLayers&&n.iarcgisUrl&&(i="iarcgisUrl",o="iarcgisLayers");break;case"tilearcgisrest":n.tarcgisLayers&&n.tarcgisUrl&&(i="tarcgisUrl",o="tarcgisLayers")}if(!o||!i)return;const r=n[o].split("),("),p=n[i].split(",");let m=0;p.forEach(u=>{let g=u;const x=this.getQueryParam("VERSION",g)||this.getQueryParam("version",g)||void 0;x&&(g=g.replace("VERSION="+x,"").replace("version="+x,"")),g.endsWith("?")&&(g=g.substring(0,g.length-1)),this.extractLayersByService(r[m]).forEach(xe=>{const A=xe.split(":igoz"),_e=me.gb.removeUndefined({type:t,url:g,layer:A[0],params:"wms"===t?{LAYERS:A[0]}:void 0}),we=(0,l.lZj)(_e),ve=this.computeLayerVisibilityFromUrl(n,we);this.addLayerFromURL(g,A[0],t,x,ve,A[1]?parseInt(A[1],10):void 0)}),m+=1})}readVectorQueryParams(n){if(n.vector){const t=n.vector,o=t.lastIndexOf("/"),i=t.slice(o+1,t.length);this.http.get(`${t}`,{responseType:"blob"}).subscribe(r=>{const p=new File([r],i,{type:r.type,lastModified:Date.now()});this.importService.import(p).subscribe(m=>this.onFileImportSuccess(p,m),m=>this.onFileImportError(p,m))})}}onFileImportSuccess(n,t){(0,l.xrF)(n,t,this.map,this.contextState.context$.value.uri,this.messageService,this.layerService)}onFileImportError(n,t){(0,l.jDn)(n,t,this.messageService)}extractLayersByService(n){let t=n;return t=t.startsWith("(")?t.substr(1):t,t=t.endsWith(")")?t.slice(0,-1):t,t.split(",")}addLayerFromURL(n,t,o,i,r=!0,p){if(!this.contextLoaded)return;const m={optionsFromCapabilities:!0,optionsFromApi:!0,crossOrigin:!0,type:o,url:n},u="arcgisrest"===o||"imagearcgisrest"===o||"tilearcgisrest"===o;let g={version:"wmts"===o?"1.0.0":void 0,queryable:!!u,queryFormat:u?"esrijson":void 0,layer:t};"wms"===o&&(g={params:{LAYERS:t,VERSION:i}}),g=me.gb.removeUndefined(Object.assign({},g,m)),this.addedLayers$$.push(this.layerService.createAsyncLayer({zIndex:p,visible:r,sourceOptions:g}).subscribe(x=>{this.map.addLayer(x)}))}computeLayerVisibilityFromUrl(n,t){const o=n;let i=!0;if(!o||!t)return i;let r="",p="",m=[],u=[];return o.visiblelayers&&(r=o.visiblelayers),o.invisiblelayers&&(p=o.invisiblelayers),"*"===r&&(i=!0),"*"===p&&(i=!1),m=r.split(","),u=p.split(","),(m.indexOf(t)>-1||m.indexOf(t.toString())>-1)&&(i=!0),(u.indexOf(t)>-1||u.indexOf(t.toString())>-1)&&(i=!1),i}initWelcomeWindow(){var n;null!==(n=this.auth)&&void 0!==n&&n.url?this.authService.logged$.subscribe(t=>{t&&this.createWelcomeWindow()}):this.createWelcomeWindow()}createWelcomeWindow(){if(this.welcomeWindowService.hasWelcomeWindow()){const n=this.welcomeWindowService.getConfig();this.matDialogRef$.next(this.dialogWindow.open(G,n)),this.matDialogRef$.value.afterClosed().subscribe(t=>{this.welcomeWindowService.afterClosedWelcomeWindow(),this.matDialogRef$.next(void 0)})}}getFeatureIsSameActiveWks(n){if(this.workspace){const t=n.meta.sourceTitle;return this.workspace.title===t}return!1}getWksActiveOpenInResolution(){if(this.workspace){const n=this.workspace;if(n.active&&n.inResolutionRange$.value&&this.workspaceState.workspacePanelExpanded)return!0}return!1}refreshRelationsWorkspace(n){if(null!=n&&n.length)for(const t of n){const o=this.workspaceStore.all().find(i=>t.options.workspace.workspaceId.includes(i.id));null==o||o.meta.tableTemplate.columns.forEach(i=>{("list"===i.type||"autocomplete"===i.type)&&this.editionWorkspaceService.getDomainValues(i.relation).subscribe(r=>{i.domainValues=r})})}}zoomToSelectedFeatureWks(){let n=new fe.Z;const t=this.workspaceState.workspaceSelection.map(i=>i.entity);if(0===t.length)return;const o=[];for(const i of t){let r=n.readFeature(i,{dataProjection:i.projection,featureProjection:this.map.projection});o.push(r)}(0,l.ybU)(this.map,o,l.bAZ.Zoom)}}te.\u0275fac=function(n){return new(n||te)(e.Y36(Q.gz),e.Y36(w.gV),e.Y36(ce.e8),e.Y36(h.yJ),e.Y36(l.ITu),e.Y36(l.LvN),e.Y36(e.sBO),e.Y36(l.neU),e.Y36(w.sz),e.Y36(w.U5),e.Y36(w.po),e.Y36(w.Tb),e.Y36(w.EH),e.Y36(l.gS3),e.Y36(h.E4),e.Y36(l.Y5R),e.Y36(Me.eN),e.Y36(h.TS),e.Y36(h.ez),e.Y36($),e.Y36(k.uw),e.Y36(l._7J),e.Y36(h.V1),e.Y36(l.zNf),e.Y36(w.Nw),e.Y36(l.D4b))},te.\u0275cmp=e.Xpm({type:te,selectors:[["app-portal"]],viewQuery:function(n,t){if(1&n&&(e.Gf(wt,7,e.SBq),e.Gf(vt,7,e.SBq)),2&n){let o;e.iGM(o=e.CRH())&&(t.mapBrowser=o.first),e.iGM(o=e.CRH())&&(t.searchBar=o.first)}},decls:32,vars:49,consts:[[1,"app-main-container"],[3,"shown","click"],[3,"sidenavOpened","openSidenav",4,"ngIf"],[3,"term","termSplitter","minLength","searchSettings","forceNA","store","pointerSummaryEnabled","searchResultsGeometryEnabled","reverseSearchCoordsFormatEnabled","searchTermChange","pointerSummaryStatus","searchResultsGeometryStatus","reverseSearchCoordsFormatStatus","search","clearFeature","searchSettingsChange",4,"ngIf"],[3,"map","opened","openedChange","toolChange"],["igoMapOffline","","igoWorkspaceUpdator","","igoLongPress","","igoSearchPointerSummary","","igoHoverFeature","","igoQuery","","igoMapContext","","igoLayerContext","","igoDropGeoFile","",3,"workspaceStore","igoSearchPointerSummaryDelay","igoSearchPointerSummaryEnabled","igoHoverFeatureDelay","igoHoverFeatureEnabled","waitForAllQueries","queryFeatures","queryFeaturesHitTolerance","contextUri","map","igoContextMenu","ngClass","query","menuPosition"],["mapBrowser",""],["color","primary",3,"map"],[3,"map"],["color","primary",3,"map",4,"ngIf"],["color","primary",3,"showIfNoRotation","map"],["color","primary",3,"map","extentOverride","centerOverride","zoomOverride",4,"ngIf"],[3,"map","useStaticIcon"],[3,"backdropShown","expanded","maximized","expandedChange",4,"ngIf"],[3,"withHeader","opened","openedChange"],[1,"toast-panel-for-expansion-close-button-container"],["mat-icon-button","","color","warn",3,"click"],["svgIcon","close"],[3,"workspace","deactivateWidget",4,"ngIf"],[3,"map","store","hasFeatureEmphasisOnSelection","opened","openedChange","fullExtentEvent","windowHtmlDisplayEvent",4,"ngIf"],["contextMenu",""],[3,"sidenavOpened","openSidenav"],[3,"term","termSplitter","minLength","searchSettings","forceNA","store","pointerSummaryEnabled","searchResultsGeometryEnabled","reverseSearchCoordsFormatEnabled","searchTermChange","pointerSummaryStatus","searchResultsGeometryStatus","reverseSearchCoordsFormatStatus","search","clearFeature","searchSettingsChange"],["searchBar",""],["color","primary",3,"map","extentOverride","centerOverride","zoomOverride"],[3,"backdropShown","expanded","maximized","expandedChange"],["expansionPanelHeader",""],["igoWorkspaceSelector","",3,"store","disabled","map","toolToActivate","changeWorkspace","disableSwitch","relationLayers","rowsInMapExtentCheckCondition"],[4,"ngIf"],["mat-icon-button","","collapsibleButton","","tooltip-position","below","matTooltipShowDelay","500",1,"eye-workspace",3,"color","matTooltip","click"],[3,"ngClass","svgIcon"],["class","add-feature","mat-icon-button","","color","primary","collapsibleButton","","tooltip-position","below","matTooltipShowDelay","500",3,"disabled","matTooltip","click",4,"ngIf"],["class","actionbar-workspace",3,"store","withIcon","withTitle","horizontal","withToggleButton","iconColor","color","mode","overlayClass",4,"ngIf"],["class","zoom-workspace","mat-icon-button","","color","primary","collapsibleButton","","tooltip-position","below","matTooltipShowDelay","500",3,"disabled","matTooltip","click",4,"ngIf"],[1,"spacer"],[3,"store","entitySortChange$","paginatorOptions","paginatorChange",4,"ngIf"],["mat-icon-button","","color","primary","collapsibleButton","","tooltip-position","below","matTooltipShowDelay","500",1,"add-feature",3,"disabled","matTooltip","click"],["svgIcon","plus"],[1,"actionbar-workspace",3,"store","withIcon","withTitle","horizontal","withToggleButton","iconColor","color","mode","overlayClass"],["mat-icon-button","","color","primary","collapsibleButton","","tooltip-position","below","matTooltipShowDelay","500",1,"zoom-workspace",3,"disabled","matTooltip","click"],[3,"svgIcon"],[3,"store","entitySortChange$","paginatorOptions","paginatorChange"],[3,"class","paginator","store","template","entitySortChange","entitySelectChange",4,"ngIf"],[1,"mat-typography"],[3,"paginator","store","template","entitySortChange","entitySelectChange"],[3,"workspace","deactivateWidget"],[3,"map","store","hasFeatureEmphasisOnSelection","opened","openedChange","fullExtentEvent","windowHtmlDisplayEvent"],["mode","context",3,"store","withIcon","horizontal"]],template:function(n,t){if(1&n&&(e.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav-content")(2,"igo-backdrop",1),e.NdJ("click",function(){return t.onBackdropClick()}),e.qZA(),e.YNc(3,Ct,1,1,"igo-menu-button",2),e.YNc(4,yt,2,9,"igo-search-bar",3),e.TgZ(5,"app-sidenav",4),e.NdJ("openedChange",function(i){return t.sidenavOpened=i})("toolChange",function(i){return t.toolChanged(i)}),e.qZA(),e.TgZ(6,"igo-map-browser",5,6),e.NdJ("query",function(i){return t.onMapQuery(i)})("menuPosition",function(i){return t.onContextMenuOpen(i)})("@mapStateX.start",function(){return t.updateMapBrowserClass()})("@mapStateY.start",function(){return t.updateMapBrowserClass()}),e._UZ(8,"igo-wake-lock-button")(9,"igo-zoom-button",7)(10,"igo-swipe-control",8)(11,"igo-map-center",8),e.YNc(12,St,1,3,"igo-offline-button",9),e.YNc(13,bt,1,3,"igo-geolocate-button",9),e._UZ(14,"igo-rotation-button",10),e.YNc(15,Ot,1,4,"igo-home-extent-button",11),e.YNc(16,Pt,1,3,"igo-user-button",9),e._UZ(17,"igo-baselayers-switcher",12),e.qZA(),e._UZ(18,"app-map-overlay"),e.ALo(19,"async"),e.qZA()(),e.YNc(20,jt,8,16,"app-expansion-panel",13),e.ALo(21,"async"),e.TgZ(22,"app-toast-panel-for-expansion",14),e.NdJ("openedChange",function(i){return t.toastPanelForExpansionOpened=i}),e.TgZ(23,"div",15)(24,"button",16),e.NdJ("click",function(){return t.toastPanelForExpansionOpened=!1}),e._UZ(25,"mat-icon",17),e.qZA()(),e.YNc(26,zt,1,1,"igo-workspace-widget-outlet",18),e.ALo(27,"async"),e.qZA(),e.YNc(28,Rt,2,9,"app-toast-panel",19),e.ALo(29,"async"),e.YNc(30,Zt,1,3,"ng-template",null,20,e.W1O)),2&n){const o=e.MAs(31);e.xp6(2),e.Q6J("shown",t.backdropShown),e.xp6(1),e.Q6J("ngIf",t.showMenuButton),e.xp6(1),e.Q6J("ngIf",t.showSearchBar),e.xp6(1),e.Q6J("map",t.map)("opened",t.sidenavOpened),e.xp6(1),e.Q6J("workspaceStore",t.workspaceStore)("igoSearchPointerSummaryDelay",500)("igoSearchPointerSummaryEnabled",t.igoSearchPointerSummaryEnabled)("igoHoverFeatureDelay",250)("igoHoverFeatureEnabled",!0)("waitForAllQueries",!0)("queryFeatures",!0)("queryFeaturesHitTolerance",15)("contextUri",t.contextUri)("map",t.map)("igoContextMenu",o)("ngClass",e.VKq(47,It,t.map.getBaseLayers().length>1))("@mapStateX",t.sidenavOpened?"right":"left")("@mapStateY",t.getControlsOffsetY()),e.xp6(3),e.Q6J("map",t.map)("@controlsOffsetY",t.getControlsOffsetY()),e.xp6(1),e.Q6J("map",t.map),e.xp6(1),e.Q6J("map",t.map),e.xp6(1),e.Q6J("ngIf",!1),e.xp6(1),e.Q6J("ngIf",t.hasGeolocateButton),e.xp6(1),e.Q6J("showIfNoRotation",t.showRotationButtonIfNoRotation)("map",t.map),e.xp6(1),e.Q6J("ngIf",t.hasHomeExtentButton),e.xp6(1),e.Q6J("ngIf",t.auth.url),e.xp6(1),e.Q6J("map",t.map)("@controlsOffsetY",t.getBaselayersSwitcherStatus())("useStaticIcon",!0),e.xp6(1),e.Q6J("@controlStateY",t.getControlsOffsetY())("@controlStateX","mobile"!==e.lcZ(19,39,t.mediaService.media$)&&t.sidenavOpened?"right":"left"),e.xp6(2),e.Q6J("ngIf",t.hasExpansionPanel&&e.lcZ(21,41,t.workspaceState.workspaceEnabled$)),e.xp6(2),e.Q6J("withHeader",!1)("opened",t.toastPanelForExpansionOpened),e.xp6(4),e.Q6J("ngIf",e.lcZ(27,43,t.selectedWorkspace$)),e.xp6(2),e.Q6J("ngIf",!0!==e.lcZ(29,45,t.queryStore.empty$))}},dependencies:[f.mk,f.O5,b.gM,C.lW,S.Hw,N.TM,N.Rh,l.V$T,l.ExE,l.PUQ,l.u$Y,l.$BH,l.fwr,l.AIr,l.W4Y,l.y$j,l.gvi,l.Ej2,l.tk9,l.qt4,l.pyf,l.TEo,l.NBD,l.tt3,c.nv,c.i8,c.lk,c.Fh,c.$E,l.DpO,l.O91,c.lB,c.Te,c.qv,V,y,X,K,ee,E.b3,E.mH,E.qy,f.Ov,B.X$],styles:["#tour-button[_ngcontent-%COMP%]{font-weight:700;position:absolute;left:5px;top:50px;z-index:4}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.tour-button-title[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]{width:100%;height:100%;display:block}igo-menu-button[_ngcontent-%COMP%]{position:absolute;z-index:4}mat-icon.disabled[_ngcontent-%COMP%]{color:#00000061}igo-map-browser[_ngcontent-%COMP%]{width:100%;height:100%}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution{left:50px;bottom:5px;text-align:left;padding:0;margin-right:90px;background-color:#fff0;width:calc(100% - 500px)}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-logo-only{height:inherit}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-collapsed{background:none}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-collapsed button{transform:none}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution button{transform:rotate(180deg);background-color:#fff;cursor:pointer}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-uncollapsible{height:auto}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution ul{background-color:#fff9;padding:2px .5em}igo-map-browser.has-expansion-panel[_ngcontent-%COMP%]   igo-baselayers-switcher[_ngcontent-%COMP%]{bottom:47px}igo-map-browser.sidenav-offset-baselayers[_ngcontent-%COMP%]   igo-baselayers-switcher[_ngcontent-%COMP%]{left:405px}igo-map-browser[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent{position:absolute;width:100%;left:0;bottom:0}igo-map-browser.sidenav-offset[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent{left:400px;width:calc(100% - 380px)}igo-map-browser.sidenav-offset[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent .ol-scale-line{left:40%}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-map-browser.sidenav-offset[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent{display:none}}igo-map-browser.expansion-offset[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent{bottom:281px}igo-map-browser.expansion-offset-maximized[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent{bottom:496px}igo-map-browser.toast-offset-scale-line[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent   .ol-scale-line{bottom:50px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-map-browser.toast-offset-attribution[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent   .ol-attribution{bottom:50px}}igo-search-bar[_ngcontent-%COMP%]{background-color:#fff;font-size:16px;position:absolute;left:45px;top:5px;z-index:4;width:345px;height:40px;margin:0 5px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-search-bar[_ngcontent-%COMP%]{width:calc(100% - 100px);max-width:350px}}mat-sidenav-container[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;z-index:5;display:inline;display:initial}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){mat-sidenav-content[_ngcontent-%COMP%]{z-index:auto}}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}igo-actionbar[_ngcontent-%COMP%]{padding-left:7px;padding-top:5px}.zoom-workspace[_ngcontent-%COMP%]{padding-top:5px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-workspace-selector[_ngcontent-%COMP%]{width:100px}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-entity-table-paginator[_ngcontent-%COMP%]{margin-left:-30px}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-entity-table-paginator[_ngcontent-%COMP%]     .mat-paginator-range-label{margin:10px 1px 0 20px}}igo-entity-table[_ngcontent-%COMP%]     td.mat-column-edition{display:flex;height:100%;align-items:center}app-expansion-panel[_ngcontent-%COMP%]{position:absolute;bottom:0;overflow:hidden;z-index:5}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){@supports (-webkit-appearance: none) and (not (overflow: -webkit-marquee)) and (not (-ms-ime-align: auto)) and (not (-moz-appearance: none)){app-expansion-panel[_ngcontent-%COMP%]{z-index:5}}}app-toast-panel[_ngcontent-%COMP%]{position:absolute;left:50%;margin-left:-300px;max-width:-moz-fit-content;max-width:fit-content;z-index:5;outline:none}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){app-toast-panel[_ngcontent-%COMP%]{left:49px;margin-left:0;min-width:100%}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){app-toast-panel[_ngcontent-%COMP%]{max-width:inherit;left:calc(50% + 60px)}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >div   igo-panel.app-full-toast-panel-opened, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >div   igo-panel.app-toast-panel-html-large, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]     igo-panel.app-full-toast-panel-opened, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]     igo-panel.app-toast-panel-html-large{max-height:50vh}app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >div   igo-panel.app-full-toast-panel-opened .toast-content, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >div   igo-panel.app-toast-panel-html-large .toast-content, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]     igo-panel.app-full-toast-panel-opened .toast-content, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]     igo-panel.app-toast-panel-html-large .toast-content{max-height:42vh}}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel{max-height:45vh}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel .toast-content{max-height:40vh}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel{max-height:30vh}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel .toast-content{max-height:24vh}}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel.app-toast-panel-html{height:30vh}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel.app-toast-panel-opened{height:auto;max-height:30vh}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel.app-toast-panel-opened .toast-content{max-height:25vh}app-toast-panel.expansion-panel-expanded[_ngcontent-%COMP%], app-toast-panel[_ngcontent-%COMP%]:not(.has-expansion-panel), app-toast-panel.app-toast-panel-opened[_ngcontent-%COMP%]{bottom:0}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){app-toast-panel.expansion-panel-expanded[_ngcontent-%COMP%], app-toast-panel[_ngcontent-%COMP%]:not(.has-expansion-panel), app-toast-panel.app-toast-panel-opened[_ngcontent-%COMP%]{left:0}}igo-offline-button[_ngcontent-%COMP%]{margin-bottom:128px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-offline-button[_ngcontent-%COMP%]{margin-bottom:45px}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){igo-offline-button[_ngcontent-%COMP%]{margin-bottom:45px}}igo-geolocate-button[_ngcontent-%COMP%]{margin-bottom:85px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-geolocate-button[_ngcontent-%COMP%]{margin-bottom:0}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){igo-geolocate-button[_ngcontent-%COMP%]{margin-bottom:0}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-home-extent-button[_ngcontent-%COMP%]{margin-bottom:0;right:100px}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){igo-home-extent-button[_ngcontent-%COMP%]{margin-bottom:0;right:100px}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){igo-zoom-button[_ngcontent-%COMP%]{display:none}}app-toast-panel-for-expansion[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;margin-left:-300px;width:600px;z-index:6}@media only screen and (min-width: 960px) and (max-width: 1280px){app-toast-panel-for-expansion[_ngcontent-%COMP%]{width:480px;margin-left:-240px}}@media only screen and (min-width: 600px) and (max-width: 959px){app-toast-panel-for-expansion[_ngcontent-%COMP%]{width:480px;margin-left:-240px}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){app-toast-panel-for-expansion[_ngcontent-%COMP%]{width:calc(100% - 98px);left:49px;margin-left:0}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){app-toast-panel-for-expansion[_ngcontent-%COMP%]{width:calc(100% - 98px);left:49px;margin-left:0}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){toast-panel-for-expansion.toast-panel-for-expansion-opened[_ngcontent-%COMP%]{width:100%;left:0}}.mat-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{background:none}app-toast-panel-for-expansion[_ngcontent-%COMP%]   .toast-panel-for-expansion-close-button-container[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-15px;z-index:6;padding:5px}app-toast-panel-for-expansion[_ngcontent-%COMP%]   .toast-panel-for-expansion-close-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:24px;line-height:24px}.eye-workspace[_ngcontent-%COMP%]{margin-left:7px;margin-top:5px}.add-feature[_ngcontent-%COMP%]{margin-top:5px}.actionbar-workspace[_ngcontent-%COMP%]{padding-left:0}  div.workspace-menu{max-width:-moz-fit-content!important;max-width:fit-content!important}  div.workspace-menu div.mat-menu-content   span.mat-checkbox-label,   div.workspace-menu div.mat-menu-content   div.mat-list-text{font-size:12px}"],data:{animation:[function Re(){return[(0,s.X$)("expansionPanelSize",[(0,s.SB)("full",(0,s.oB)({left:"5px","max-width":"100%"})),(0,s.SB)("notTriggered",(0,s.oB)({left:"5px",bottom:"5px","max-width":"100%"})),(0,s.SB)("notVisible",(0,s.oB)({display:"none"})),(0,s.SB)("mobile",(0,s.oB)({left:"calc(100% - 40px)"})),(0,s.SB)("reduced",(0,s.oB)({left:"405px","max-width":"calc(100% - 405px)"})),(0,s.SB)("reducedNotTriggered",(0,s.oB)({left:"405px",bottom:"5px","max-width":"calc(100% - 405px)"})),(0,s.eR)("* => *",(0,s.jt)("100ms"))]),(0,s.X$)("toastOffsetY",[(0,s.SB)("true",(0,s.oB)({bottom:"50px"})),(0,s.SB)("false",(0,s.oB)({bottom:"5px"}))])]}(),function Ze(){return[(0,s.X$)("toastPanelMobileSidenav",[(0,s.SB)("true",(0,s.oB)({display:"none"})),(0,s.eR)("* => void",(0,s.jt)("0ms")),(0,s.eR)("* => *",(0,s.jt)("200ms"))]),(0,s.X$)("toastPanelOffsetX",[(0,s.SB)("fullStandard",(0,s.oB)({left:"45%"})),(0,s.SB)("standard",(0,s.oB)({left:"50%"})),(0,s.SB)("htmlDisplay",(0,s.oB)({left:"40%"})),(0,s.SB)("fullOffsetX",(0,s.oB)({left:"calc(45% + 202px)"})),(0,s.SB)("standardOffsetX",(0,s.oB)({left:"calc(50% + 202px)"})),(0,s.SB)("htmlDisplayOffsetX",(0,s.oB)({left:"calc(40% + 160px)"})),(0,s.eR)("fullStandard => fullOffsetX",(0,s.jt)("200ms")),(0,s.eR)("fullOffsetX => fullStandard",(0,s.jt)("200ms")),(0,s.eR)("standard => standardOffsetX",(0,s.jt)("200ms")),(0,s.eR)("standardOffsetX => standard",(0,s.jt)("200ms")),(0,s.eR)("htmlDisplay => htmlDisplayOffsetX",(0,s.jt)("200ms")),(0,s.eR)("htmlDisplayOffsetX => htmlDisplay",(0,s.jt)("200ms"))]),(0,s.X$)("toastPanelOffsetY",[(0,s.SB)("noExpansion",(0,s.oB)({bottom:"0"})),(0,s.SB)("expansionAndToastOpened",(0,s.oB)({bottom:"285px",zIndex:"999"})),(0,s.SB)("expansionAndToastClosed",(0,s.oB)({bottom:"285px",zIndex:"5"})),(0,s.SB)("expansionMaximizedAndToastOpened",(0,s.oB)({bottom:"500px",zIndex:"999"})),(0,s.SB)("expansionMaximizedAndToastClosed",(0,s.oB)({bottom:"500px",zIndex:"5"})),(0,s.eR)("noExpansion => noExpansion",(0,s.jt)("10ms")),(0,s.eR)("expansionAndToastOpened => expansionAndToastOpened",(0,s.jt)("200ms")),(0,s.eR)("expansionAndToastClosed => expansionAndToastClosed",(0,s.jt)("200ms")),(0,s.eR)("expansionMaximizedAndToastOpened => expansionMaximizedAndToastOpened",(0,s.jt)("200ms")),(0,s.eR)("expansionMaximizedAndToastClosed => expansionMaximizedAndToastClosed",(0,s.jt)("200ms"))])]}(),function Ie(){return[(0,s.X$)("controlsOffsetY",[(0,s.SB)("close",(0,s.oB)({})),(0,s.SB)("firstRowFromBottom",(0,s.oB)({bottom:"5px"})),(0,s.SB)("firstRowFromBottom-expanded",(0,s.oB)({bottom:"285px"})),(0,s.SB)("firstRowFromBottom-expanded-maximized",(0,s.oB)({bottom:"500px"})),(0,s.SB)("secondRowFromBottom",(0,s.oB)({bottom:"47px"})),(0,s.SB)("thirdRowFromBottom",(0,s.oB)({bottom:"104px"})),(0,s.SB)("",(0,s.oB)({bottom:"calc(285px)"})),(0,s.SB)("secondRowFromBottom-expanded",(0,s.oB)({bottom:"calc(285px + 52px)"})),(0,s.SB)("thirdRowFromBottom-expanded",(0,s.oB)({bottom:"calc(285px + 104px)"})),(0,s.eR)("* => *",(0,s.jt)("200ms"))]),(0,s.X$)("mobileOffsetY",[(0,s.SB)("low",(0,s.oB)({bottom:"50px"})),(0,s.eR)("* => *",(0,s.jt)("200ms"))])]}(),function Le(){return(0,s.X$)("controlStateX",[(0,s.SB)("left",(0,s.oB)({left:"60px"})),(0,s.SB)("right",(0,s.oB)({left:"465px"})),(0,s.eR)("* => *",(0,s.jt)("200ms"))])}(),function He(){return(0,s.X$)("controlStateY",[(0,s.SB)("close",(0,s.oB)({})),(0,s.SB)("firstRowFromBottom",(0,s.oB)({bottom:"2px","margin-left":"0px"})),(0,s.SB)("firstRowFromBottom-expanded",(0,s.oB)({bottom:"285px","margin-left":"-55px"})),(0,s.SB)("firstRowFromBottom-expanded-maximized",(0,s.oB)({bottom:"500px","margin-left":"-55px"})),(0,s.eR)("* => *",(0,s.jt)("200ms"))])}(),function De(){return(0,s.X$)("mapStateX",[(0,s.SB)("left",(0,s.oB)({left:"0"})),(0,s.SB)("right",(0,s.oB)({left:"0"})),(0,s.eR)("* => *",(0,s.jt)("200ms"))])}(),function We(){return(0,s.X$)("mapStateY",[(0,s.SB)("*",(0,s.oB)({bottom:"0"})),(0,s.eR)("* => *",(0,s.jt)("200ms"))])}()]}});class ne{constructor(n,t){this.configService=n,this.languageService=t,this.computeHeader()}computeHeader(){this.headerLogo=this.configService.getConfig("header.logo"),this.headerLogoPrint=this.configService.getConfig("header.logoPrint")}}ne.\u0275fac=function(n){return new(n||ne)(e.Y36(h.E4),e.Y36(h.TS))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["app-header"]],decls:21,vars:14,consts:[["role","banner","color","primary",1,"banner"],[1,"container"],[1,"row"],[1,"col-6","col-md-10","d-flex","flex-wrap","align-items-center","zone-logo-title"],["tabindex","5","routerLink","",1,"logo"],["id","header-logo","alt","Logo",3,"src"],["id","header-logo-print","alt","Logo","width","199","height","60",3,"src"],["lang","fr","id","title-desktop",1,"zone-title","d-none","d-md-block"],[1,"col-6","col-md-2","d-flex","justify-content-end","zone-links"],[1,"nav","flex-column"],["rel","noopener noreferrer","alt","('header.contactUsUrl' | translate)","target","_blank",3,"href"],["lang","fr","id","title-mobile",1,"zone-title","d-md-none","col-12"]],template:function(n,t){1&n&&(e.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._UZ(5,"img",5),e.qZA(),e._UZ(6,"img",6),e.TgZ(7,"p",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",8)(11,"ul",9)(12,"li")(13,"a",10),e.ALo(14,"translate"),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.TgZ(17,"p",11)(18,"a"),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()()),2&n&&(e.xp6(5),e.s9C("src",t.headerLogo,e.LSH),e.xp6(1),e.s9C("src",t.headerLogoPrint,e.LSH),e.xp6(2),e.Oqu(e.lcZ(9,6,"header.title")),e.xp6(5),e.s9C("href",e.lcZ(14,8,"header.contactUsUrl"),e.LSH),e.xp6(2),e.Oqu(e.lcZ(16,10,"header.contactUs")),e.xp6(4),e.Oqu(e.lcZ(20,12,"header.title")))},dependencies:[se.Ye,B.X$],styles:[".portal-with-header{height:calc(100% - 72px)!important}@media screen and (min-width: 824px){  .portal-with-header{height:calc(100% - 72px)!important}}[_ngcontent-%COMP%]:root{--breakpoint-pgu-sm: 403px;--breakpoint-sm: 576px;--breakpoint-md: 768px;--breakpoint-lg: 992px;--breakpoint-xl: 1200px}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{padding:0;margin:0!important;width:100%;font-size:16px;font-family:Open sans,sans-serif}@media (min-width: 1280px) and (orientation: landscape){body[_ngcontent-%COMP%]{margin:0!important}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], div[_ngcontent-%COMP%], span[_ngcontent-%COMP%], a[_ngcontent-%COMP%], header[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]{margin:0;padding:0;border:0;vertical-align:baseline}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-family:Open sans,sans-serif}.col-6[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%]{position:relative;width:100%}.col-12[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}.container[_ngcontent-%COMP%]{width:100%;margin-right:auto;margin-left:auto}.row[_ngcontent-%COMP%]{-ms-display:flex;display:flex;flex-wrap:wrap;height:100%;width:98%;align-content:center;margin:auto}.col-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:700;color:#095797!important}a[_ngcontent-%COMP%]{word-break:break-word;overflow-wrap:break-word}img[_ngcontent-%COMP%]{vertical-align:middle;border-style:none}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}.d-none[_ngcontent-%COMP%]{display:none}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column!important}.flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.align-items-center[_ngcontent-%COMP%]{align-items:center!important}.justify-content-end[_ngcontent-%COMP%]{justify-content:flex-end!important}d-md-none[_ngcontent-%COMP%]{display:none}.align-self-end[_ngcontent-%COMP%]{align-self:flex-end!important}.banner[_ngcontent-%COMP%]{display:flex;width:100%;height:72px;box-sizing:border-box;font-family:Roboto,sans-serif;margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.zone-logo-title[_ngcontent-%COMP%]{padding:.5rem 1.1rem .5rem 0}.zone-title[_ngcontent-%COMP%]{font-size:1rem}.zone-links[_ngcontent-%COMP%]{padding-left:1.1rem;max-width:100%;margin:auto;list-style:none;display:block;color:#fff}#header-logo[_ngcontent-%COMP%]{width:100%;min-width:7rem;max-height:28px}#header-logo-print[_ngcontent-%COMP%]{display:none}.zone-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font: .8rem/1.2rem roboto,sans-serif;-webkit-font-smoothing:antialiased;text-align:left;flex-wrap:wrap;list-style:none;padding:0;margin:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{padding:0}.zone-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .zone-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:underline;cursor:pointer}.buttonLanguage[_ngcontent-%COMP%]{background:none;border-style:none;padding:0;font: .8rem/1rem roboto,sans-serif;color:inherit}#title-mobile[_ngcontent-%COMP%]{margin:auto 0;display:block}#title-desktop[_ngcontent-%COMP%]{display:none;color:#fff;margin:auto 0;padding:0}  igo-spinner{position:absolute;top:76px!important;right:4px;z-index:100}@media screen and (min-width: 576px){.zone-logo-title[_ngcontent-%COMP%], .zone-links[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media screen and (min-width: 768px){.col-md-10[_ngcontent-%COMP%]{flex:0 0 83.33333%;max-width:83.33333%}.zone-links[_ngcontent-%COMP%]{flex:0 0 16.66667%;max-width:16.66667%}#header-logo[_ngcontent-%COMP%]{max-height:39px;padding-right:3.75rem}.banner[_ngcontent-%COMP%]{height:72px}.d-md-block[_ngcontent-%COMP%]{display:block!important}.d-md-none[_ngcontent-%COMP%]{display:none!important}.zone-logo-title[_ngcontent-%COMP%]{flex:0 0 83.33333%;max-width:83.33333%}  igo-spinner{top:76px!important;right:4px;z-index:100}}"]});class oe{constructor(n){this.languageService=n}}function Lt(a,n){1&a&&e._UZ(0,"igo-auth-form")}function Ht(a,n){1&a&&e._UZ(0,"app-header",null,3)}function Dt(a,n){1&a&&e._UZ(0,"app-footer")}oe.\u0275fac=function(n){return new(n||oe)(e.Y36(h.TS))},oe.\u0275cmp=e.Xpm({type:oe,selectors:[["app-footer"]],decls:21,vars:18,consts:[["id","footer-id",1,"footer-right"],[1,"order2"],[1,"footer-text"],["rel","noopener noreferrer","alt","('externallinks' | translate)","target","_blank",3,"href"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"span",1)(2,"span",2)(3,"a",3),e.ALo(4,"translate"),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"span",2),e._uU(8," | "),e.qZA(),e.TgZ(9,"span",2)(10,"a",3),e.ALo(11,"translate"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"span",2),e._uU(15," | "),e.qZA(),e.TgZ(16,"span",2)(17,"a",3),e.ALo(18,"translate"),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()),2&n&&(e.xp6(3),e.s9C("href",e.lcZ(4,6,"footer.url-conditions"),e.LSH),e.xp6(2),e.Oqu(e.lcZ(6,8,"footer.conditions")),e.xp6(5),e.s9C("href",e.lcZ(11,10,"footer.url-ministry"),e.LSH),e.xp6(2),e.Oqu(e.lcZ(13,12,"footer.ministry")),e.xp6(5),e.s9C("href",e.lcZ(18,14,"footer.url-gov"),e.LSH),e.xp6(2),e.Oqu(e.lcZ(20,16,"footer.gov")))},dependencies:[B.X$],styles:[".order2[_ngcontent-%COMP%]{order:2;margin-right:.5%;display:block;right:0;margin-left:140px;text-align:right!important;width:100%}.footer-right[_ngcontent-%COMP%]{z-index:666;background:rgba(255,255,255,.6392156863);font-size:.7rem;display:flex;align-items:center;height:29px}span.footer-text[_ngcontent-%COMP%]{color:#095797;align-self:center;margin-left:.5rem}span.footer-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#095797;text-decoration:none}  div.ol-scale-line{position:fixed!important;display:flex;flex-direction:row;margin-left:.5%;left:70px!important;bottom:3px!important}  .ol-scale-line-inner{border:1px solid black;color:#000;border-top:none;order:1}"]});class ae{constructor(n,t,o,i,r,p,m,u){this.languageService=n,this.configService=t,this.analyticsListenerService=o,this.renderer=i,this.titleService=r,this.metaService=p,this.messageService=m,this.pwaService=u,this.themeClass="blue-theme",this.hasHeader=!0,this.hasFooter=!0,this.pwaService.checkForUpdates(),this.languageService.translate.getTranslation(this.languageService.getLanguage()).subscribe(),this.authConfig=this.configService.getConfig("auth"),this.readTitleConfig(),this.readThemeConfig(),this.readDescriptionConfig(),this.analyticsListenerService.listen(),this.detectOldBrowser(),this.hasHeader=void 0!==this.configService.getConfig("header.hasHeader")&&this.configService.getConfig("header.hasHeader"),this.hasFooter=void 0!==this.configService.getConfig("hasFooter")&&this.configService.getConfig("hasFooter")}readTitleConfig(){this.languageService.translate.get(this.configService.getConfig("title")).subscribe(n=>{n&&(this.titleService.setTitle(n),this.metaService.addTag({name:"title",content:n}))})}readThemeConfig(){const n=this.configService.getConfig("theme")||this.themeClass;n&&this.renderer.addClass(document.body,n)}readDescriptionConfig(){const n=this.configService.getConfig("description");n&&this.metaService.addTag({name:"description",content:n})}detectOldBrowser(){if(me.WE.satisfies({ie:"<=11",chrome:"<64",firefox:"<60",safari:"<=11"})){const t=this.languageService.translate,o=t.get("oldBrowser.title"),i=t.get("oldBrowser.message");(0,je.$)(o,i).pipe((0,re.U)(([r,p])=>({title:r,message:p}))).subscribe(r=>this.messageService.alert(r.message,r.title,{timeOut:15e3}))}}}ae.\u0275fac=function(n){return new(n||ae)(e.Y36(h.TS),e.Y36(h.E4),e.Y36(w.jZ),e.Y36(e.Qsj),e.Y36(v.Dx),e.Y36(v.h_),e.Y36(h.ez),e.Y36(T))},ae.\u0275cmp=e.Xpm({type:ae,selectors:[["app-root"]],decls:5,vars:4,consts:[["igoSpinnerActivity",""],[4,"ngIf"],["igoStopDropPropagation","",3,"ngClass"],["header",""]],template:function(n,t){1&n&&(e._UZ(0,"igo-spinner",0),e.YNc(1,Lt,1,0,"igo-auth-form",1),e.YNc(2,Ht,2,0,"app-header",1),e._UZ(3,"app-portal",2),e.YNc(4,Dt,1,0,"app-footer",1)),2&n&&(e.xp6(1),e.Q6J("ngIf",t.authConfig&&t.authConfig.url),e.xp6(1),e.Q6J("ngIf",t.hasHeader),e.xp6(1),e.Q6J("ngClass",t.hasHeader?t.hasFooter?"portal-with-header-footer":"portal-with-header":t.hasFooter?"portal-with-footer":"portal"),e.xp6(1),e.Q6J("ngIf",t.hasFooter))},dependencies:[f.mk,f.O5,ce.cD,c.Ft,c.OR,c.k8,te,ne,oe],styles:["[_nghost-%COMP%]{font-family:Roboto,Helvetica Neue,sans-serif}igo-spinner[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;z-index:100}igo-message-center[_ngcontent-%COMP%]     simple-notifications   div.simple-notification-wrapper{right:10px}  .portal-with-header{height:calc(100% - 72px)!important}  .portal-with-header-footer{height:calc(100% - 101px)!important}  .portal-with-footer{height:calc(100% - 29px)!important}@media screen and (min-width: 824px){  .portal-with-header{height:calc(100% - 72px)!important}  .portal-with-header-footer{height:calc(100% - 101px)!important}}  .mat-tooltip-hide{display:none!important}  .mat-form-field-suffix   mat-icon{width:auto!important;height:-webkit-fill-available!important}"]});class D{}D.\u0275fac=function(n){return new(n||D)},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({imports:[f.ez,h.yR,se.g0]});class W{}W.\u0275fac=function(n){return new(n||W)},W.\u0275mod=e.oAB({type:W}),W.\u0275inj=e.cJS({imports:[f.ez,h.yR]});let ke=new e.OlP("Config Loader");class J{}J.\u0275fac=function(n){return new(n||J)},J.\u0275mod=e.oAB({type:J,bootstrap:[ae]}),J.\u0275inj=e.cJS({providers:[(0,h.TQ)({default:he.igo,path:"./config/config.json"}),{provide:ke,useFactory:function Wt(a,n){const t=a.load(n);return t instanceof Promise?t:Promise.resolve()},deps:[h.E4,h.ce]},h.MZ,(0,l.ZsY)(),(0,l.cmn)(),(0,l.YVN)(),(0,l.PIH)(),(0,l.jxb)(),(0,l.c43)(),(0,l.eKy)(),(0,l.MG6)(),(0,l.HAL)(),{provide:e.ip1,useFactory:function Qt(a,n,t){return()=>new Promise(o=>{a.then(()=>{const i=[n.translate.getTranslation(n.getLanguage())];Promise.all(i).then(()=>{const r=[t.initPwaPrompt()];Promise.all(r).then(()=>o())})})})},deps:[ke,h.TS,T],multi:!0},(0,l.rQG)({path:"./assets/list-style.json"}),{provide:b.Jm,useValue:{showDelay:500,hideDelay:0,touchendHideDelay:0,disableTooltipInteractivity:!0}}],imports:[v.b2,O.PW,Q.Bz.forRoot([]),ce._e.forRoot(),h.u4.forRoot(),h.zZ,c.d3,c.Po,H,v.t6,D,W,Ce.Wr.register("ngsw-worker.js",{enabled:he.igo.app.pwa.enabled,registrationStrategy:"registerWithDelay:5000"})]});d(15977);he.production&&(0,e.G48)(),v.q6().bootstrapModule(J).catch(a=>console.log(a))},46700:(M,pe,d)=>{var v={"./af":58685,"./af.js":58685,"./ar":254,"./ar-dz":4312,"./ar-dz.js":4312,"./ar-kw":32614,"./ar-kw.js":32614,"./ar-ly":18630,"./ar-ly.js":18630,"./ar-ma":28674,"./ar-ma.js":28674,"./ar-sa":49032,"./ar-sa.js":49032,"./ar-tn":24730,"./ar-tn.js":24730,"./ar.js":254,"./az":53052,"./az.js":53052,"./be":60150,"./be.js":60150,"./bg":63069,"./bg.js":63069,"./bm":13466,"./bm.js":13466,"./bn":18516,"./bn-bd":90557,"./bn-bd.js":90557,"./bn.js":18516,"./bo":26273,"./bo.js":26273,"./br":9588,"./br.js":9588,"./bs":19815,"./bs.js":19815,"./ca":83331,"./ca.js":83331,"./cs":21320,"./cs.js":21320,"./cv":72219,"./cv.js":72219,"./cy":68266,"./cy.js":68266,"./da":66427,"./da.js":66427,"./de":67435,"./de-at":52871,"./de-at.js":52871,"./de-ch":12994,"./de-ch.js":12994,"./de.js":67435,"./dv":82357,"./dv.js":82357,"./el":95649,"./el.js":95649,"./en-au":59961,"./en-au.js":59961,"./en-ca":19878,"./en-ca.js":19878,"./en-gb":3924,"./en-gb.js":3924,"./en-ie":70864,"./en-ie.js":70864,"./en-il":91579,"./en-il.js":91579,"./en-in":30940,"./en-in.js":30940,"./en-nz":16181,"./en-nz.js":16181,"./en-sg":44301,"./en-sg.js":44301,"./eo":85291,"./eo.js":85291,"./es":54529,"./es-do":53764,"./es-do.js":53764,"./es-mx":12584,"./es-mx.js":12584,"./es-us":63425,"./es-us.js":63425,"./es.js":54529,"./et":35203,"./et.js":35203,"./eu":70678,"./eu.js":70678,"./fa":83483,"./fa.js":83483,"./fi":96262,"./fi.js":96262,"./fil":52521,"./fil.js":52521,"./fo":34555,"./fo.js":34555,"./fr":63131,"./fr-ca":88239,"./fr-ca.js":88239,"./fr-ch":21702,"./fr-ch.js":21702,"./fr.js":63131,"./fy":267,"./fy.js":267,"./ga":23821,"./ga.js":23821,"./gd":71753,"./gd.js":71753,"./gl":4074,"./gl.js":4074,"./gom-deva":92762,"./gom-deva.js":92762,"./gom-latn":5969,"./gom-latn.js":5969,"./gu":82809,"./gu.js":82809,"./he":45402,"./he.js":45402,"./hi":315,"./hi.js":315,"./hr":10410,"./hr.js":10410,"./hu":38288,"./hu.js":38288,"./hy-am":67928,"./hy-am.js":67928,"./id":71334,"./id.js":71334,"./is":86959,"./is.js":86959,"./it":34864,"./it-ch":51124,"./it-ch.js":51124,"./it.js":34864,"./ja":36141,"./ja.js":36141,"./jv":29187,"./jv.js":29187,"./ka":42136,"./ka.js":42136,"./kk":94332,"./kk.js":94332,"./km":18607,"./km.js":18607,"./kn":84305,"./kn.js":84305,"./ko":70234,"./ko.js":70234,"./ku":16003,"./ku.js":16003,"./ky":75061,"./ky.js":75061,"./lb":32786,"./lb.js":32786,"./lo":66183,"./lo.js":66183,"./lt":50029,"./lt.js":50029,"./lv":24169,"./lv.js":24169,"./me":68577,"./me.js":68577,"./mi":68177,"./mi.js":68177,"./mk":50337,"./mk.js":50337,"./ml":65260,"./ml.js":65260,"./mn":52325,"./mn.js":52325,"./mr":14695,"./mr.js":14695,"./ms":75334,"./ms-my":37151,"./ms-my.js":37151,"./ms.js":75334,"./mt":63570,"./mt.js":63570,"./my":97963,"./my.js":97963,"./nb":88028,"./nb.js":88028,"./ne":86638,"./ne.js":86638,"./nl":50302,"./nl-be":66782,"./nl-be.js":66782,"./nl.js":50302,"./nn":33501,"./nn.js":33501,"./oc-lnc":50563,"./oc-lnc.js":50563,"./pa-in":50869,"./pa-in.js":50869,"./pl":65302,"./pl.js":65302,"./pt":49687,"./pt-br":74884,"./pt-br.js":74884,"./pt.js":49687,"./ro":79107,"./ro.js":79107,"./ru":33627,"./ru.js":33627,"./sd":30355,"./sd.js":30355,"./se":83427,"./se.js":83427,"./si":11848,"./si.js":11848,"./sk":54590,"./sk.js":54590,"./sl":20184,"./sl.js":20184,"./sq":56361,"./sq.js":56361,"./sr":78965,"./sr-cyrl":81287,"./sr-cyrl.js":81287,"./sr.js":78965,"./ss":25456,"./ss.js":25456,"./sv":70451,"./sv.js":70451,"./sw":77558,"./sw.js":77558,"./ta":51356,"./ta.js":51356,"./te":73693,"./te.js":73693,"./tet":21243,"./tet.js":21243,"./tg":42500,"./tg.js":42500,"./th":55768,"./th.js":55768,"./tk":77761,"./tk.js":77761,"./tl-ph":35780,"./tl-ph.js":35780,"./tlh":29590,"./tlh.js":29590,"./tr":33807,"./tr.js":33807,"./tzl":93857,"./tzl.js":93857,"./tzm":60654,"./tzm-latn":8806,"./tzm-latn.js":8806,"./tzm.js":60654,"./ug-cn":30845,"./ug-cn.js":30845,"./uk":19232,"./uk.js":19232,"./ur":47052,"./ur.js":47052,"./uz":77967,"./uz-latn":32233,"./uz-latn.js":32233,"./uz.js":77967,"./vi":98615,"./vi.js":98615,"./x-pseudo":12320,"./x-pseudo.js":12320,"./yo":31313,"./yo.js":31313,"./zh-cn":64490,"./zh-cn.js":64490,"./zh-hk":55910,"./zh-hk.js":55910,"./zh-mo":98262,"./zh-mo.js":98262,"./zh-tw":44223,"./zh-tw.js":44223};function e(O){var h=Q(O);return d(h)}function Q(O){if(!d.o(v,O)){var h=new Error("Cannot find module '"+O+"'");throw h.code="MODULE_NOT_FOUND",h}return v[O]}e.keys=function(){return Object.keys(v)},e.resolve=Q,M.exports=e,e.id=46700}},M=>{M.O(0,[736],()=>{return v=81754,M(M.s=v);var v});M.O()}]);
//# sourceMappingURL=main.cb8109db96341b13.js.map